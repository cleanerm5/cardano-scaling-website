<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-monthly" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Blog | Cardano Scaling</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://cardano-scaling.org/monthly"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | Cardano Scaling"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/faviconl.io"><link data-rh="true" rel="canonical" href="https://cardano-scaling.org/monthly"><link data-rh="true" rel="alternate" href="https://cardano-scaling.org/monthly" hreflang="en"><link data-rh="true" rel="alternate" href="https://cardano-scaling.org/monthly" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/monthly/rss.xml" title="Cardano Scaling RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/monthly/atom.xml" title="Cardano Scaling Atom Feed">



<script src="https://plausible.io/js/script.js" defer="defer" data-domain="hydra.family"></script><link rel="stylesheet" href="/assets/css/styles.d23c1e19.css">
<script src="/assets/js/runtime~main.7071713f.js" defer="defer"></script>
<script src="/assets/js/main.cd5d23aa.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Cardano Scaling</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/monthly">Monthly reports</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cardano-scaling" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Monthly reports</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-03">March 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-02">February 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2024-01">January 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-11">November 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-10">October 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-09">September 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-08">August 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-07">July 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-06">June 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-05">May 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-04">April 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-03">March 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-02">February 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2023-01">January 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2022-12">December 2022</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/monthly/2022-11">November 2022</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This is a monthly report of progress on üê≤ Hydra and üõ° Mithril projects since February 2024. These reports have recently moved to https://cardano-scaling.org/monthly (more details here)."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/monthly/2024-03">March 2024</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-03-28T07:21:14.000Z" itemprop="datePublished">March 28, 2024</time> ¬∑ <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/jpraynaud" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/jpraynaud.png" alt="Jean-Philippe Raynaud" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/jpraynaud" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jean-Philippe Raynaud</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This is a monthly report of progress on üê≤ Hydra and üõ° Mithril projects since February 2024. These reports have recently moved to <a href="https://cardano-scaling.org/monthly" target="_blank" rel="noopener noreferrer">https://cardano-scaling.org/monthly</a> (more details <a href="/monthly/2024-02">here</a>).</p>
<p>This document serves as a preparation for and a written summary of the monthly stakeholder review meeting, which is announced on our Discord channels and held on Google Meet. This month, the meeting was held on 2024-03-27, using these <a href="https://docs.google.com/presentation/d/1pxV7VTDHW-wtvJy1RDuei7H14gQvgrrUlqoiOco6j9E" target="_blank" rel="noopener noreferrer">slides</a> and <a href="https://drive.google.com/file/d/1SL5Js8wBIoBeb87exCmZTWtHSQy7xF1W/view" target="_blank" rel="noopener noreferrer">you can see the recording here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mithril">Mithril<a href="#mithril" class="hash-link" aria-label="Direct link to Mithril" title="Direct link to Mithril">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/mithril/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2024-02-29..2024-03-31" target="_blank" rel="noopener noreferrer">Issues and pull requests closed in
March</a></p>
<p>This month, there has been a noticeable increase in SPOs joining the Mithril protocol. In particular, many new multi-pool operators have set up the Mithril signer in their infrastructure. At the end of epoch <strong>#475</strong>, there were <strong>230</strong> pools registered with <strong>4.6B‚Ç≥</strong> stake involved representing approximately 20% of the total active stake. We will continue to provide regular updates to the community to encourage their participation in the protocol.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/2024-03-mithril-participation-77cfd3b9237a0e17e2babf6aad914e15.png" width="781" height="466" class="img_ev3q"></p>
<p>We have released the new Mithril distribution <a href="https://github.com/input-output-hk/mithril/releases/tag/2412.0" target="_blank" rel="noopener noreferrer"><code>2412.0</code></a>. This release includes several critical updates and enhancements, such as support for Prometheus metrics endpoint in signer, deprecation of the <code>snapshot</code> command in the client CLI, full Pallas based implementation of the chain observer, and support for Cardano node version <code>8.9.0</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-signatures">Transaction signatures<a href="#transaction-signatures" class="hash-link" aria-label="Direct link to Transaction signatures" title="Direct link to Transaction signatures">‚Äã</a></h3>
<p>We have developed a signing structure that enables quick proof generation while maintaining a light footprint on the signer for the <code>mainnet</code>. This is crucial as we need to handle a vast amount of transactions (100 million). To achieve this, we created a <strong>block range Merkle tree</strong>, which stores transactions in a Merkle tree and uses its root to create another Merkle tree. According to the our benchmark tests, a batch proof for <code>100</code> transactions can now be created in less than <code>250 ms</code>.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/2024-03-mithril-block-range-mktree-6666dadea204c9cf53e2560f6662d114.jpg" width="1426" height="700" class="img_ev3q"></p>
<p>We have also completed the roadmap of the MVP that will be released on <code>mainnet</code>:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/2024-03-mithril-cardano-tx-roadmap-c38ffa89357d117598610d1836a50526.png" width="793" height="808" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-verification-in-frontend">Transaction verification in frontend<a href="#transaction-verification-in-frontend" class="hash-link" aria-label="Direct link to Transaction verification in frontend" title="Direct link to Transaction verification in frontend">‚Äã</a></h3>
<p>The <a href="https://www.npmjs.com/package/@mithril-dev/mithril-client-wasm" target="_blank" rel="noopener noreferrer">Mithril client WASM library</a> has been used to implement a Cardano transaction verifier inside the <a href="https://mithril.network/explorer/?aggregator=https%3A%2F%2Faggregator.testing-sanchonet.api.mithril.network%2Faggregator" target="_blank" rel="noopener noreferrer">Mithril explorer</a>.
This feature is currently available only on the <code>testing-sanchonet</code> network and will be progressively rolled out to the other Mithril networks.
Wallet and DApp developers could leverage the client WASM library to implement a security layer that verifies transactions provided by a third party.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/2024-03-mithril-explorer-d854dcb93d0daccf9886593c82a79a74.png" width="1776" height="865" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prometheus-metrics">Prometheus metrics<a href="#prometheus-metrics" class="hash-link" aria-label="Direct link to Prometheus metrics" title="Direct link to Prometheus metrics">‚Äã</a></h3>
<p>We have released a new Prometheus endpoint with the latest stable version of the signer. The feature can be easily activated by the SPOs as explained in this <a href="https://mithril.network/doc/dev-blog/2024/03/26/mithril-signer-prometheus-endpoint" target="_blank" rel="noopener noreferrer">developer blog post</a>.</p>
<p>Additionally, we created a Grafana template to easily set up a dashboard for this Prometheus endpoint: <a href="https://grafana.com/grafana/dashboards/20776-mithril-signer/" target="_blank" rel="noopener noreferrer">https://grafana.com/grafana/dashboards/20776-mithril-signer/</a></p>
<p><img decoding="async" loading="lazy" src="/assets/images/2024-03-mithril-prometheus-metrics-f3d048549b1d36f839bb33597824216c.png" width="1613" height="755" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pallas-updates">Pallas updates<a href="#pallas-updates" class="hash-link" aria-label="Direct link to Pallas updates" title="Direct link to Pallas updates">‚Äã</a></h3>
<p>The latest stable distribution now includes a fully implemented chain observer powered by the <a href="https://crates.io/crates/pallas" target="_blank" rel="noopener noreferrer"><code>pallas</code></a> crate. Additionally, we have been collaborating with TxPipe to implement the <code>chainsync</code> mini-protocol with Pallas. This will significantly reduce the latency of signatures for Cardano transactions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deprecation-warning">Deprecation warning<a href="#deprecation-warning" class="hash-link" aria-label="Direct link to Deprecation warning" title="Direct link to Deprecation warning">‚Äã</a></h3>
<p>We have deprecated the <code>snapshot</code> command of the Mithril client CLI as explained in this <a href="https://mithril.network/doc/dev-blog/2024/03/26/client-cli-deprecated-command" target="_blank" rel="noopener noreferrer">developer blog post</a>.</p>
<p>We recommend using the replacement <code>cardano-db snapshot</code> command for users of the client CLI.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hydra">Hydra<a href="#hydra" class="hash-link" aria-label="Direct link to Hydra" title="Direct link to Hydra">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2024-02-29..2024-03-31" target="_blank" rel="noopener noreferrer">Issues and pull requests closed in
March</a></p>
<p>Hydra project
<a href="https://github.com/orgs/input-output-hk/projects/21/views/7" target="_blank" rel="noopener noreferrer">roadmap</a> did not
change much this month:</p>
<p><img decoding="async" loading="lazy" alt="The roadmap with features and ideas" src="/assets/images/2024-03-hydra-roadmap-3edebbdeb6a431d9f7e69271a5d60721.jpg" width="5372" height="2978" class="img_ev3q">
<small><center>The latest roadmap with features and ideas</center></small></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="notable-updates">Notable updates<a href="#notable-updates" class="hash-link" aria-label="Direct link to Notable updates" title="Direct link to Notable updates">‚Äã</a></h3>
<ul>
<li>
<p>Evolved the user-requested <a href="https://github.com/input-output-hk/hydra/discussions/1337" target="_blank" rel="noopener noreferrer">feature idea #1337</a> into a new feature on the roadmap to <a href="https://github.com/input-output-hk/hydra/issues/1350" target="_blank" rel="noopener noreferrer">revise POST /commit endpoint interface #1350</a>. This will allow committing into a head directly from advanced smart contracts. It remains unclear whether this will be part of the upcoming <code>0.16.0</code> release.</p>
</li>
<li>
<p>Captured the new feature idea of <a href="https://github.com/input-output-hk/hydra/issues/1329" target="_blank" rel="noopener noreferrer">Directly open heads #1329</a> as item on the roadmap. This requires further grooming and could supersede other ideas like <a href="https://github.com/input-output-hk/hydra/issues/699" target="_blank" rel="noopener noreferrer">Always abortable head #699</a>.</p>
</li>
<li>
<p>Mostly completed <a href="https://github.com/input-output-hk/hydra/issues/1213" target="_blank" rel="noopener noreferrer">Drop support for JSON encoded transactions #1213</a> and <a href="https://github.com/input-output-hk/hydra/issues/1325" target="_blank" rel="noopener noreferrer">Streaming plugins #1325</a>, which will be released soon as <code>0.16.0</code>.</p>
</li>
<li>
<p>Made substantial progress on <a href="https://github.com/input-output-hk/hydra/issues/1057" target="_blank" rel="noopener noreferrer">Incremental decommit #1057</a>, however, this is unlikely to be released as part of <code>0.16.0</code>.</p>
</li>
<li>
<p>Fully prepared <a href="https://github.com/input-output-hk/hydra/issues/1178" target="_blank" rel="noopener noreferrer">Switch L2 ledger to Conway #1178</a>, such that it can be released directly after the hard fork on the Cardano layer 1.</p>
</li>
<li>
<p>As we improve our understanding of pivotal features such as incremental commits and decommits, the feature set required to address [known issues and limitations] (<a href="https://hydra.family/head-protocol/docs/known-issues/" target="_blank" rel="noopener noreferrer">https://hydra.family/head-protocol/docs/known-issues/</a>) is being narrowed down, and the scope for a convincing version <code>1.0.0</code> is becoming clearer.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conway-support">Conway support<a href="#conway-support" class="hash-link" aria-label="Direct link to Conway support" title="Direct link to Conway support">‚Äã</a></h3>
<p>As mentioned in previous roadmap updates, we separated work to support the upcoming Conway era on Cardano in two:</p>
<ul>
<li><a href="https://github.com/input-output-hk/hydra/issues/1177" target="_blank" rel="noopener noreferrer">Conway support #1177</a> will make the <code>hydra-node</code> support Conway and allow users to keep heads open across the hard fork.</li>
<li><a href="https://github.com/input-output-hk/hydra/issues/1178" target="_blank" rel="noopener noreferrer">Drop Babbage support #1178</a> will eventually drop support for the Babbage era and retain maintainability.</li>
</ul>
<p>While the former was already merged and is currently released in version <code>0.15.0</code> onwards, the team prepared the latter this month.</p>
<p>Ideally switching the transaction format in the <code>hydra-node</code> is as simple as setting the type alias <code>type Era = Conway</code>. However, the code was <code>Babbage</code>-specific in several areas and work on this resulted in various pull requests making switching easier in several places: <a href="https://github.com/input-output-hk/hydra/pull/1326" target="_blank" rel="noopener noreferrer">#1326</a>, <a href="https://github.com/input-output-hk/hydra/pull/1327" target="_blank" rel="noopener noreferrer">#1327</a>, <a href="https://github.com/input-output-hk/hydra/pull/1328" target="_blank" rel="noopener noreferrer">#1328</a>, <a href="https://github.com/input-output-hk/hydra/pull/1334" target="_blank" rel="noopener noreferrer">#1334</a>, and <a href="https://github.com/input-output-hk/hydra/pull/1342" target="_blank" rel="noopener noreferrer">#1342</a>.</p>
<p>The result is a relatively simple switch in this <a href="https://github.com/input-output-hk/hydra/pull/1338" target="_blank" rel="noopener noreferrer">draft pull request</a> and available on branch <code>lc/conway-support</code>, which we intend to bump and merge once the public Cardano networks hard fork.</p>
<p>Having full <code>Conway</code> era support, including <code>PlutusV3</code>, on the Hydra layer 2 already prepared on a branch allows early adopting users from the community to explore and use this already. Modulo-P has been on the forefront here by developing zero-knowledge hybrid DApps and wrapping the Hydra branch up in this <a href="https://github.com/Modulo-P/hydra-node-plutusv3" target="_blank" rel="noopener noreferrer">example repository</a>.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>A full-on <code>Conway</code> <code>hydra-node</code> can be used on <code>SanchoNet</code> already and the Hydra protocol scripts did not change from <code>master</code> / the upcoming <code>0.16.0</code>. However, note that the <a href="http://explorer.hydra.family" target="_blank" rel="noopener noreferrer">Hydra explorer</a> shows such <code>Conway</code>-built heads only as <code>Initializing</code>. More details about why can be found in this <a href="https://github.com/input-output-hk/hydra/pull/1373" target="_blank" rel="noopener noreferrer">pull request</a>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="streaming-plugins">Streaming plugins<a href="#streaming-plugins" class="hash-link" aria-label="Direct link to Streaming plugins" title="Direct link to Streaming plugins">‚Äã</a></h3>
<p>SundaeLabs is working on a Hydra-based layer two protocol (<code>gummiworm</code>) that requires the usage of <code>hydra-node</code> components in a different way than the default setup. As part of this development, SundaeLabs submitted a Fund10 Catalyst proposal to enhance the Hydra node by adding features that would facilitate not only their work but also the work of everyone building on Hydra.</p>
<p>They have been working on a plugin architecture to enable the infiltration and exfiltration of events, which enables hygienic forks of Hydra that feature additional connections to the outside world. They are interested in consuming the Hydra event stream via Amazon Kinesis and storing transaction archives on S3 for later reference.</p>
<p>After an initial design phase resulting in <a href="https://hydra.family/head-protocol/adr/29/" target="_blank" rel="noopener noreferrer">ADR29</a>, they contributed the event source and sink abstractions, and refactored the Hydra node to use these new extension points together with core contributors. The <code>EventSource</code> and <code>EventSink</code> interfaces, along with the configurable list of <code>eventSinks</code> in the main <code>HydraNode</code> handle, allow to extend the <code>hydra-node</code> with any external system. It also paves the way for more scalable persistence methods on the mainline Hydra node, and might even allow refactoring the existing API server as an <code>EventSink</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mithril-office-hours">Mithril office hours<a href="#mithril-office-hours" class="hash-link" aria-label="Direct link to Mithril office hours" title="Direct link to Mithril office hours">‚Äã</a></h3>
<p>As the Catalyst project of TxPipe on Mithril is completed, we want to build upon this initial maintenance work in a more open format. For this, we are transforming our alignment calls into a public weekly office hour where we invite the community to join and discuss concrete pull requests, issues and questions on Mithril.</p>
<p>üëâ<!-- --> Mithril office hours happen every Tuesday at 16:00 UTC on the <a href="https://discord.com/channels/826816523368005654/1146481948794032260" target="_blank" rel="noopener noreferrer">#mithril-live</a> Discord channel.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-governance-walkthrough">Hydra governance walkthrough<a href="#hydra-governance-walkthrough" class="hash-link" aria-label="Direct link to Hydra governance walkthrough" title="Direct link to Hydra governance walkthrough">‚Äã</a></h3>
<p>This month, the Hydra team has been asked to provide a walkthrough of how we use GitHub to run and govern the project. We have prepared a video that explains how we use Github issues, pull requests, discussions, and projects to manage the development of the Hydra project. However, it is important to note that this information represents only a current view and we are enthusiastic about continuously improving the processes to make them more transparent.</p>
<center><iframe width="560" height="315" src="https://www.youtube.com/embed/JGUeO7A6mMU?si=T5Dy4zuRb6NLReJE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe></center>
<br>
<p>We are excited to announce that we are looking to establish a Hydra working group at Intersect. This group will aim to involve more community members in proposing feature backlogs, roadmaps, and RFPs. Initially, the focus of this working group will be on the concrete Hydra Head protocol (state channels). However, variations such as Hydrozoa, and combined scalability protocols like Gummiworm, Lightning-like payment channel networks, or the Hydra Tail protocol (~ rollups) will also require more community involvement. Stay tuned for more updates on this in the upcoming months.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>We held the monthly review meeting for March 2024 on 2024-03-27 via Google Meet,
presenting these <a href="https://docs.google.com/presentation/d/1pxV7VTDHW-wtvJy1RDuei7H14gQvgrrUlqoiOco6j9E" target="_blank" rel="noopener noreferrer">slides</a> and this <a href="https://drive.google.com/file/d/1SL5Js8wBIoBeb87exCmZTWtHSQy7xF1W/view" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<p>This month we have made significant progress on Mithril transaction signatures, while the Hydra team has been busy working on the incremental commits/decommits features. Both projects are fully prepared for the upcoming Conway hard fork on Cardano and continuously demonstrate user experience improvements.</p>
<p>Besides the Hydra explorer user interface, the teams also showcased the Mithril transaction verification feature in the Mithril explorer frontend. This demonstrates that Cardano transactions can be additionally verified using Mithril certificates from within a web browser. Taking this even further, we believe that such a &quot;Verified with Mithril&quot; checkmark can provide additional level of confirmation for users of light wallets and Cardano DApps!</p>
<p>Besides these, Modulo-P showcased their early adoption of Hydra heads using <code>Conway</code> and <code>PlutusV3</code> for their quite involved zero-knowledge protocols. Briefly after the meeting they released a first look on their <a href="https://zkmastermind.modulo-p.io/" target="_blank" rel="noopener noreferrer">zkMastermind DApp</a>. Also, SundaeLabs presented their streaming plugins for Hydra. Both are examples of how the Hydra protocol can be extended and used in different ways, and we are excited to see more community contributions in the future.</p>
<p>As a closing remark, we see the trend of decentralizing governance on both projects, Hydra and Mithril, while at large the overall &#x27;age of Voltaire&#x27; is unfolding. Consequently, we anticipate moves, merges, or restructuring of repositories, projects, and working groups. What an exciting time to be a part of this big Cardano community!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This is the first joint report of the üê≤ Hydra and üõ° Mithril projects, which summarizes the teams&#x27; progress since January 2024."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/monthly/2024-02">February 2024</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-02-26T12:28:21.000Z" itemprop="datePublished">February 26, 2024</time> ¬∑ <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/jpraynaud" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/jpraynaud.png" alt="Jean-Philippe Raynaud" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/jpraynaud" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jean-Philippe Raynaud</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/v0d1ch.png" alt="Sasha Bogicevic" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sasha Bogicevic</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This is the first joint report of the üê≤ Hydra and üõ° Mithril projects, which summarizes the teams&#x27; progress since January 2024.</p>
<p>Previously, both teams had been releasing progress updates in different formats and intervals within their respective repositories:</p>
<ul>
<li>Hydra <a href="https://hydra.family/head-protocol/monthly" target="_blank" rel="noopener noreferrer">monthly reports</a></li>
<li>Mithril <a href="https://mithril.network/doc/dev-blog/" target="_blank" rel="noopener noreferrer">dev blog</a></li>
</ul>
<p>Both sites are created from the individual project repositories. However, it is not ideal to keep &#x27;procedural&#x27; documents as part of the code base, since it requires special handling when building versioned, published documentation. For example, <a href="https://github.com/input-output-hk/hydra/blob/fad12fd7d967e5e8af4d8b832396e68bd8510e9a/.github/workflows/publish-docs.yaml#L87-L92" target="_blank" rel="noopener noreferrer">this workflow</a> in the Hydra project which publishes to <a href="https://hydra.family" target="_blank" rel="noopener noreferrer">https://hydra.family</a> required several attempts to work around how Docusaurus websites are built. Consequently, we introduced a <a href="https://github.com/cardano-scaling/website" target="_blank" rel="noopener noreferrer">dedicated repository</a> that builds into a <a href="https://cardano-scaling.org" target="_blank" rel="noopener noreferrer">website</a>. This not only helps keep the original product repositories clean of inherently dated information, but also serves as a new home for joint reports, announcements, or occasional articles.</p>
<p>This monthly report serves as preparation for the monthly stakeholder review meeting (see <a href="https://docs.google.com/presentation/d/18buDs_TcMHgFAYjJt9GftQiEnVB3ubcoD3Djh3ovxSc/edit#slide=id.g1f87a7454a5_0_1392" target="_blank" rel="noopener noreferrer">slides</a> and <a href="https://drive.google.com/file/d/1WZ03vcpfxgYhGw91-L3QXVfyNwhdaCBY/view" target="_blank" rel="noopener noreferrer">recording</a>). At the meeting, the teams update stakeholders on recent developments and gather feedback on proposed plans.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mithril">Mithril<a href="#mithril" class="hash-link" aria-label="Direct link to Mithril" title="Direct link to Mithril">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/mithril/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2024-01-31..2024-02-29" target="_blank" rel="noopener noreferrer">Issues and pull requests closed in February</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="release-and-publication">Release and publication<a href="#release-and-publication" class="hash-link" aria-label="Direct link to Release and publication" title="Direct link to Release and publication">‚Äã</a></h4>
<p>This month, the Mithril team <a href="https://github.com/input-output-hk/mithril/releases/tag/2408.0" target="_blank" rel="noopener noreferrer">released distribution <code>2408.0</code></a> and published two blog posts:</p>
<ul>
<li><a href="https://mithril.network/doc/dev-blog/2024/02/08/testing-sanchonet-network-available" target="_blank" rel="noopener noreferrer">Mithril SanchoNet network released</a>.</li>
<li><a href="https://mithril.network/doc/dev-blog/" target="_blank" rel="noopener noreferrer">Mithril client CLI output breaking change</a>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="signing-cardano-transactions-proof-of-concept">Signing Cardano transactions proof of concept<a href="#signing-cardano-transactions-proof-of-concept" class="hash-link" aria-label="Direct link to Signing Cardano transactions proof of concept" title="Direct link to Signing Cardano transactions proof of concept">‚Äã</a></h3>
<p>The team has been working on implementing a proof of concept of a new data type that will enable the certification of Cardano transactions within Mithril networks. Last month, the team extended the <a href="https://crates.io/crates/mithril-client" target="_blank" rel="noopener noreferrer">Mithril client library</a> to support the certification of Cardano transactions. This month, the team have upgraded the <a href="https://mithril.network/doc/manual/developer-docs/nodes/mithril-client/" target="_blank" rel="noopener noreferrer">client CLI</a> and introduced a new <code>cardano-transaction</code> command that can list snapshots and certify a list of Cardano transactions. Additionally, they have implemented the same API surface on the <a href="https://www.npmjs.com/package/@mithril-dev/mithril-client-wasm" target="_blank" rel="noopener noreferrer">WASM client</a> that now supports transaction certification in the browser.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/2024-02-mithril-cardano-tx-d3db0ef017e592f2b056ba42b45bc73d.png" width="1328" height="709" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhanced-support-for-conway-and-sanchonet">Enhanced support for Conway and SanchoNet<a href="#enhanced-support-for-conway-and-sanchonet" class="hash-link" aria-label="Direct link to Enhanced support for Conway and SanchoNet" title="Direct link to Enhanced support for Conway and SanchoNet">‚Äã</a></h3>
<p>The team has conducted thorough testing on the upcoming Conway era and are confident that Mithril networks will transition smoothly to this new era. Additionally, the team have released a new <a href="https://mithril.network/explorer/?aggregator=https%3A%2F%2Faggregator.testing-sanchonet.api.mithril.network%2Faggregator" target="_blank" rel="noopener noreferrer"><code>testing-sanchonet</code></a> network that has been opened to SPOs to enable collaborative testing of the upcoming and experimental features (eg the aforementioned signature of the Cardano transactions).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hydra">Hydra<a href="#hydra" class="hash-link" aria-label="Direct link to Hydra" title="Direct link to Hydra">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2024-01-31..2024-02-29" target="_blank" rel="noopener noreferrer">Issues and pull requests closed in February</a></p>
<p>This month, the Hydra project <a href="https://github.com/orgs/input-output-hk/projects/21/views/7" target="_blank" rel="noopener noreferrer">roadmap</a> underwent a few changes:</p>
<p><img decoding="async" loading="lazy" alt="The roadmap with features and ideas" src="/assets/images/2024-02-hydra-roadmap-ac47b5ab937793764b6a7a35508db223.jpg" width="1165" height="857" class="img_ev3q"> <small><center>The latest roadmap with features and ideas</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notable-updates">Notable updates<a href="#notable-updates" class="hash-link" aria-label="Direct link to Notable updates" title="Direct link to Notable updates">‚Äã</a></h4>
<ul>
<li>New: <a href="https://github.com/input-output-hk/hydra/issues/1213" target="_blank" rel="noopener noreferrer">Drop support for JSON encoded transactions #1213</a> due to breaking changes when upgrading <code>cardano-node</code> and <code>cardano-ledger</code> versions.</li>
<li><a href="https://github.com/input-output-hk/hydra/issues/1257" target="_blank" rel="noopener noreferrer">Smoke tests on SanchoNet #1257</a> took longer than expected, revealing issues, but seeing smoke tests run on SanchoNet makes the team confident the <code>hydra-node</code> is ready for the Conway hard fork</li>
<li><a href="https://github.com/input-output-hk/hydra/issues/696" target="_blank" rel="noopener noreferrer">Build and deploy a Hydra heads explorer #696</a> is around 50% complete. Data is available for <code>sanchonet</code> at <a href="http://explorer.hydra.family/heads" target="_blank" rel="noopener noreferrer">http://explorer.hydra.family/heads</a> but a user interface is still needed.</li>
<li>Started working on <a href="https://github.com/input-output-hk/hydra/issues/199" target="_blank" rel="noopener noreferrer">Incremental commit #199</a> as the UX will be similar to <a href="https://github.com/input-output-hk/hydra/issues/1057" target="_blank" rel="noopener noreferrer">Incremental decommit #1057</a>. Implementing both features off-chain allows early adoption while improving on-chain security.</li>
<li>Added the <a href="https://github.com/input-output-hk/hydra/issues/1325" target="_blank" rel="noopener noreferrer">Streaming plugins #1325</a> feature to cover SundaeLab&#x27;s work on their Catalyst proposal</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contest-after-fanout-bug-hunt">Contest after fanout bug hunt<a href="#contest-after-fanout-bug-hunt" class="hash-link" aria-label="Direct link to Contest after fanout bug hunt" title="Direct link to Contest after fanout bug hunt">‚Äã</a></h3>
<p>While working on <a href="https://github.com/abailly-iohk/hydra-chess" target="_blank" rel="noopener noreferrer">hydra-chess</a>, the team encountered a <a href="https://github.com/input-output-hk/hydra/issues/1260" target="_blank" rel="noopener noreferrer">bug</a> in the Hydra node. In the two-party Hydra Head, nobody was able to perform a <code>Fanout</code>. This happened because one of the nodes was in the initial <code>Snapshot</code> state and missed the request for a new <code>Snapshot</code>, while the other node already had one confirmed <code>Snapshot</code> locally.</p>
<p>When the <code>Close</code> was posted, the Head was closed with the initial <code>Snapshot</code> and then contested by the node that saw a newer <code>Snapshot</code>. After the contest, the team observed a strange behavior where both nodes could not <code>Fanout</code>. We expected this failure in the node that only had the initial <code>Snapshot</code> since it did not have the correct <code>UTxO</code> locally to <code>Fanout</code>. However, the failure in the other node with the newer <code>Snapshot</code> should not have happened.</p>
<p><img decoding="async" loading="lazy" alt="Fanout after contest bug sketching" src="/assets/images/2024-02-fanout-after-contest-e156eac8175aaf0c1cfc5cce266d50d3.png" width="1473" height="871" class="img_ev3q"></p>
<p>While reviewing the code, the team discovered that the <code>Contest</code> observation was not extending the deadline after the contestation was made. As a result, the <code>Fanout</code> transaction was invalid because the validator checks that the <code>Fanout</code> transaction&#x27;s lower validity bound is higher than the deadline to contest. This check ensures that one can only fan out after the contestation period is over.</p>
<p>Before fixing this bug, the team tried reproducing it using the MBT (Model Based Tests) framework, one of the tools in the test suite. However, to do that, they needed to complete modeling the entire head lifecycle and the specific scenario they observed in real life and arbitrary actions in all head states did not reveal this bug.</p>
<p>After also improving the framework itself to correctly validate transactions and a fix for simulating rollbacks, the team was able to fix the bug easily. However, it proves that being able to reproduce a bug is not only improving the code, but also allowed the team to gain knowledge and improve their test suites.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-explorer-supporting-multiple-versions">Hydra explorer supporting multiple versions<a href="#hydra-explorer-supporting-multiple-versions" class="hash-link" aria-label="Direct link to Hydra explorer supporting multiple versions" title="Direct link to Hydra explorer supporting multiple versions">‚Äã</a></h3>
<p>This month, the team deployed the <code>hydra-explorer</code> to serve data under <a href="http://explorer.hydra.family/heads" target="_blank" rel="noopener noreferrer">http://explorer.hydra.family/heads</a>. Alongside this, they upgraded the Hydra scripts and switched to the latest pre-release version of <code>cardano-node</code> for Conway, and the system is currently running on the <code>sanchonet</code> network.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/2024-02-explorer-c62da5d26af0f2e492d8599f0622b6be.png" width="750" height="542" class="img_ev3q"></p>
<p>The Hydra explorer currently has the capability to support only one version on a single network. The reason for this limitation is that the Hydra scripts are compiled into two binaries- <code>hydra-node</code> and <code>hydra-chain-observer</code> - and the observer is connected to a single <code>cardano-node</code> that operates as a client on one network.</p>
<p>To support multiple versions of the protocol <a href="https://github.com/input-output-hk/hydra/issues/1282" target="_blank" rel="noopener noreferrer">#1282</a>, the team needs to compile the scripts of each version into individual chain observer binaries. These binaries can then communicate with the <code>hydra-explorer</code> components through an API. While Plutus validators change with any modification (thus affecting their hashes and addresses), this API can serve as an integration point that the team can support through multiple versions of the protocol.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2>
<p>Both projects saw community contributions this month:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="txpipe-on-mithril">TxPipe on Mithril<a href="#txpipe-on-mithril" class="hash-link" aria-label="Direct link to TxPipe on Mithril" title="Direct link to TxPipe on Mithril">‚Äã</a></h3>
<p>The TxPipe team has kept working on the implementation of the <code>Pallas Chain Observer</code> for Mithril nodes and has contributed to retrieving the stake distribution and Mithril era markers (stored in the UTxOs of the chain) directly from the Cardano node with mini-protocols.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ikigai-auctions-on-hydra">Ikigai auctions on Hydra<a href="#ikigai-auctions-on-hydra" class="hash-link" aria-label="Direct link to Ikigai auctions on Hydra" title="Direct link to Ikigai auctions on Hydra">‚Äã</a></h3>
<p>As it also was briefly shown in the review meeting, Ikigai continued work on <a href="/monthly/2023-06#hydra-for-auctions-contributions-and-closing-of-project">Hydra for Auctions</a> in their Catalyst-backed project. Their use case is about starting auctions on the Cardano mainnet, but then collecting bids off-chain and only committing the final result on-chain. This is a perfect use case for Hydra, as it allows for a large number of off-chain transactions to be processed in parallel and then committed to the blockchain in a single transaction.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>We held the monthly review meeting for February 2024 on 2024-02-26 via Google Meet, presenting these <a href="https://docs.google.com/presentation/d/18buDs_TcMHgFAYjJt9GftQiEnVB3ubcoD3Djh3ovxSc/edit#slide=id.g1f87a7454a5_0_1392" target="_blank" rel="noopener noreferrer">slides</a> and this <a href="https://drive.google.com/file/d/1WZ03vcpfxgYhGw91-L3QXVfyNwhdaCBY/view" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<p>This month, both projects focused on preparing for Conway and the upcoming hard fork combinator event. Preparations for the hard fork made the <code>cardano-node</code> a moving target, but the teams believe that early integration is key. Unexpected issues popped up in both projects, but they were able to address them.</p>
<p>New feature development is progressing well, with Mithril&#x27;s transaction signing now available to early adopters. This feature opens up the possibility of making <code>hydra-node</code>s more lightweight, as they won&#x27;t need to rely on a single third party for trusted chain data. Instead, they can verify on the client (the Hydra node) using Mithril certificates. Additionally, Hydra&#x27;s incremental decommit feature is in progress. While there&#x27;s still significant work to be done on the on-chain parts, the teams have already implemented the off-chain workflow for incremental commits. Making both features available for users to try out will help validate the API changes. However, this cannot be released to mainnet without completing the required on-chain security work. During the review meeting, the teams sought feedback on a potential simplification of the Hydra on-chain protocol to have &#x27;directly open&#x27; heads. Any thoughts or feedback on this fresh <a href="https://github.com/input-output-hk/hydra/issues/1329" target="_blank" rel="noopener noreferrer">feature idea
#1329</a> would be appreciated.</p>
<p>In general, if you read this far we would like to hear from you, dear reader, on any of our communication channels on Discord or a shout out on twitter. Maybe along with some feedback on the new, common website and the joint monthly report format? üôè</p>
<p>We are looking forward to the next month and when it happens, the Conway hard-fork on the first public testnets (no date yet) when üõ° Mithril serving certificates and üê≤ Hydra heads remaining open throughout.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This report summarizes the work on Hydra since November 2023. It serves as"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/monthly/2024-01">January 2024</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-01-31T18:01:54.000Z" itemprop="datePublished">January 31, 2024</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/v0d1ch.png" alt="Sasha Bogicevic" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sasha Bogicevic</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ffakenz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ffakenz.png" alt="Franco Testagrossa" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ffakenz" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Franco Testagrossa</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/locallycompact" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/locallycompact.png" alt="Daniel Firth" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/locallycompact" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Daniel Firth</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This report summarizes the work on Hydra since November 2023. It serves as
preparation for the monthly review meeting (see <a href="https://docs.google.com/presentation/d/113okna4iyhgC7ERDLVHxqQkvhqTUSWJUWjXfkpwIpEY" target="_blank" rel="noopener noreferrer">slides</a> and
<a href="https://drive.google.com/file/d/1XnM4RMKSiJNKLs2GBEg32ZHymg-fGBFt" target="_blank" rel="noopener noreferrer">recording</a>), where the team updates project stakeholders on recent
developments to gather their feedback on proposed plans.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">‚Äã</a></h2>
<p>The Hydra team restructured several items on the project <a href="https://github.com/orgs/input-output-hk/projects/21/views/7" target="_blank" rel="noopener noreferrer">roadmap</a> this month.</p>
<p><img decoding="async" loading="lazy" alt="The roadmap with features and ideas" src="/assets/images/2024-01-roadmap-215266a8c25258b6b9d6e9de68397ca2.jpg" width="1450" height="689" class="img_ev3q"> <small><center>The latest roadmap with features and ideas</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notable-updates">Notable updates<a href="#notable-updates" class="hash-link" aria-label="Direct link to Notable updates" title="Direct link to Notable updates">‚Äã</a></h4>
<ul>
<li>
<p>Released version <code>0.15.0</code>, delivering offline mode and Conway support.</p>
</li>
<li>
<p>@SundaeLabs contributed a new feature, <a href="https://github.com/input-output-hk/hydra/issues/1254" target="_blank" rel="noopener noreferrer">offline mode #1254</a>, which is related to <a href="https://milestones.projectcatalyst.io/projects/1000179" target="_blank" rel="noopener noreferrer">this Catalyst project</a>.</p>
</li>
<li>
<p>Delivered <a href="https://github.com/input-output-hk/hydra/issues/1177" target="_blank" rel="noopener noreferrer">Conway support #1177</a> preparing <code>hydra-node</code> for the upcoming Conway hard fork.</p>
</li>
<li>
<p>A new feature, indicating preparation for <a href="https://github.com/input-output-hk/hydra/issues/1256" target="_blank" rel="noopener noreferrer">running the latest version of Cardano nodes in P2P #1256</a>. This is necessary as IOG&#x27;s non-P2P relay nodes are to be shut down in January 2024.</p>
</li>
<li>
<p>Similarly, a new feature - <a href="https://github.com/input-output-hk/hydra/issues/1257" target="_blank" rel="noopener noreferrer">running smoke tests in SanchoNet #1257</a> - will serve as another proof point of being able to open/close heads in the new Conway era.</p>
</li>
<li>
<p>Groomed and started work on <a href="https://github.com/input-output-hk/hydra/issues/696" target="_blank" rel="noopener noreferrer">building and deploying a Hydra heads explorer #696</a>, see details below.</p>
</li>
<li>
<p>Renamed &#x27;Drop Babbage support #1178&#x27; to <a href="https://github.com/input-output-hk/hydra/issues/1178" target="_blank" rel="noopener noreferrer">Switch layer 2 ledger to Conway #1178</a> to better capture its content.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-development">Hydra development<a href="#hydra-development" class="hash-link" aria-label="Direct link to Hydra development" title="Direct link to Hydra development">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2023-11-30..2024-01-31" target="_blank" rel="noopener noreferrer">Issues and pull requests closed since the last report</a>.</p>
<p>This month, the team worked on the following:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-changes-dropping-json-tx">API changes: dropping JSON Tx<a href="#api-changes-dropping-json-tx" class="hash-link" aria-label="Direct link to API changes: dropping JSON Tx" title="Direct link to API changes: dropping JSON Tx">‚Äã</a></h3>
<p>The Hydra API now utilizes a TextEnvelope containing the upstream CBOR encoding from <code>cardano-api</code> for the <code>Tx</code> type and removes the JSON representation from the API <a href="https://github.com/input-output-hk/hydra/pull/1240" target="_blank" rel="noopener noreferrer">#1240</a>. This ensures that transaction types have a fixed canonical encoding that will not change between versions. As a result, consumers of the Hydra API will need to deserialize CBOR to inspect transactions.</p>
<p>This representation mirrors the TextEnvelope produced by the <code>cardano-cli</code>, with the addition of an <code>txId</code> field, which is guaranteed to match the transaction ID within the CBOR object.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Breaking change</div><div class="admonitionContent_BuS1"><p>We do not plan to go through a deprecation cycle on this breaking change to the API. If you are affected and see a problem updating your Hydra client to use CBOR, please <a href="https://github.com/input-output-hk/hydra/issues/new" target="_blank" rel="noopener noreferrer">open an issue</a> on GitHub.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-chess">Hydra Chess<a href="#hydra-chess" class="hash-link" aria-label="Direct link to Hydra Chess" title="Direct link to Hydra Chess">‚Äã</a></h3>
<p>We team began developing a game on Hydra, leveraging dogfooding to uncover suboptimal elements or stumble upon bugs requiring resolution. Hydra Chess exemplified this process, offering valuable lessons during DApp development.</p>
<p><img decoding="async" loading="lazy" src="https://red-permanent-barnacle-730.mypinata.cloud/ipfs/bafybeicxcm4yuedetm45kn6xrzqsc4mn2aocmhqtt6wrwxz5lzfry722ra/hydra-chess.png" alt="" class="img_ev3q"></p>
<p>While refining the details, the team aims to improve the workflow of running <code>hydra-node</code> within a full peer-to-peer DApp framework. The objective is to ensure user-friendly accessibility while also providing an example for Hydra developers. You can access the source code <a href="https://github.com/abailly-iohk/hydra-chess" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-explorer">Hydra Explorer<a href="#hydra-explorer" class="hash-link" aria-label="Direct link to Hydra Explorer" title="Direct link to Hydra Explorer">‚Äã</a></h3>
<p>To measure the progress and success of Hydra, we require tools that provide insights into its usage. For this, the team initiated work on <a href="https://github.com/input-output-hk/hydra/issues/696" target="_blank" rel="noopener noreferrer">#696</a>, enabling anyone to track Hydra heads throughout their entire life cycle and observe the growth of the Hydra ecosystem.</p>
<p>In this initial phase, the team has implemented a basic backend service <a href="https://github.com/input-output-hk/hydra/pull/1235" target="_blank" rel="noopener noreferrer">#1235</a> that can track all heads on-chain within a devnet network. This service establishes a baseline and utilizes the <code>hydra-chain-observer</code> package, exposing a REST API for querying and retrieving information about all observed heads and their current states.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community-update">Community update<a href="#community-update" class="hash-link" aria-label="Direct link to Community update" title="Direct link to Community update">‚Äã</a></h2>
<p>TapTools recently published a summary of the project&#x27;s progress over the last two months, which complements the updates provided above. Check it out <a href="https://medium.com/tap-in-with-taptools/input-output-releases-hydra-update-97b6139d1c59" target="_blank" rel="noopener noreferrer">here</a>!</p>
<p>Besides the contributed offline mode mentioned above, Sundae Labs is also implementing a streaming API as designed in <a href="https://hydra.family/head-protocol/adr/29/" target="_blank" rel="noopener noreferrer">ADR29</a> in the course of <a href="https://milestones.projectcatalyst.io/projects/1000180" target="_blank" rel="noopener noreferrer">this Catalyst project</a>.</p>
<p>Also <a href="https://milestones.projectcatalyst.io/projects/1000092" target="_blank" rel="noopener noreferrer">funded through Catalyst</a> is a continuation of the <a href="https://github.com/mlabs-haskell/hydra-auction" target="_blank" rel="noopener noreferrer">Hydra auction</a> project by Ikigai and MLabs. The Hydra team has not yet re-engaged in a regular exchange, but they expect to support the project with features as needed as they kick off this work.</p>
<p>As also pointed out in the review session, some of the team members have been involved in organizing the first <a href="https://buidl.2024.cardano.org/" target="_blank" rel="noopener noreferrer">Cardano Buidler Fest</a> - happening on April 23-24 in Toulouse, France. This event will be a prime chance to connect with the people building (on) Cardano and inspire new ways of collaboration. At the time of publishing, tickets are already sold out, but we hope to see many Cardano builders there!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>We held the monthly review meeting for January 2024 on 2024-01-19 via Google Meet, presenting these <a href="https://docs.google.com/presentation/d/113okna4iyhgC7ERDLVHxqQkvhqTUSWJUWjXfkpwIpEY" target="_blank" rel="noopener noreferrer">slides</a> and this <a href="https://drive.google.com/file/d/1XnM4RMKSiJNKLs2GBEg32ZHymg-fGBFt" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<p>This month, the teams demonstrated various Hydra and Mithril features. Additionally, Juan Mag√°n and his team from Modulo-P showcased a compelling demo on utilizing zero-knowledge cryptography in a Hydra head for a mastermind game. This work is a Catalyst Fund 10 <a href="https://cardano.ideascale.com/c/idea/113249" target="_blank" rel="noopener noreferrer">accepted proposal</a>.</p>
<p>Besides providing the usual status and roadmap updates on both Hydra and Mithril, several interested community members, including Tudor, joined the discussion to share their use case ideas. Tudor presented his proposal for supply chain tracking of Moldavian wine, which is currently running as a Catalyst proposal in Fund11. The proposal aims to leverage Hydra for CIP-68 NFT updates in a head, requiring wallet/app support. We also discussed a potential CIP to standardize asset access if held on layer 2 ledgers.</p>
<p>Charles provided feedback on considering Cardano block extensions as a potential core protocol change, enabling various proof systems and new consensus algorithms to support partner chains. We further emphasized collaborative efforts with the community to explore and develop the user space, determining which aspects could evolve into marketplaces and what should be integrated into core protocols. Processes like CIPs play a vital role in standardizing and facilitating technology transfer from the &#x27;user space&#x27; to the &#x27;kernel space&#x27;.</p>
<p>These discussions will inform the team&#x27;s roadmapping sessions for the year, focusing not only on building essential features for the Hydra Head protocol but also on experimenting with new approaches to enhance Cardano&#x27;s efficiency and accessibility.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This report summarizes the work on Hydra since October 2023. It serves as"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/monthly/2023-11">November 2023</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-12-04T12:50:55.000Z" itemprop="datePublished">December 4, 2023</time> ¬∑ <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/abailly-iohk" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/abailly-iohk.png" alt="Arnaud Bailly" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/abailly-iohk" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Arnaud Bailly</span></a></div><small class="avatar__subtitle" itemprop="description">Lead Architect</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This report summarizes the work on Hydra since October 2023. It serves as
preparation for the monthly review meeting (see <a href="https://docs.google.com/presentation/d/1JA_frlOXVrrBeaBGUnIq3U9cclrfU1A2cZR9B2AeVJg" target="_blank" rel="noopener noreferrer">slides</a> and
<a href="https://drive.google.com/file/d/1-iv8IveUzA2KrJV_Kqrgx4ts05Ow0zjM" target="_blank" rel="noopener noreferrer">recording</a>), where the team updates project stakeholders on recent
developments to gather their feedback on proposed plans.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">‚Äã</a></h2>
<p>This month, several items were restructured on the project
<a href="https://github.com/orgs/input-output-hk/projects/21/views/7" target="_blank" rel="noopener noreferrer">roadmap</a>:</p>
<p><img decoding="async" loading="lazy" alt="The roadmap with features and ideas" src="/assets/images/2023-11-roadmap-4d71f2e1c5303a1ecbc4311421f8d889.jpg" width="10064" height="4868" class="img_ev3q"> <small><center>The latest roadmap with features and ideas</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notable-updates">Notable updates<a href="#notable-updates" class="hash-link" aria-label="Direct link to Notable updates" title="Direct link to Notable updates">‚Äã</a></h4>
<ul>
<li>
<p>Release of version <code>0.14.0</code> is imminent as most of the <a href="https://github.com/input-output-hk/hydra/issues/1096" target="_blank" rel="noopener noreferrer">stateless chain
observation #1096</a>
feature is done and only some internal refactoring missing.</p>
</li>
<li>
<p>The user-submitted feature idea on supporting extended keys,
<a href="https://github.com/input-output-hk/hydra/issues/1141" target="_blank" rel="noopener noreferrer">#1141</a>, has
been refined. The purpose of this item is now clear, and although
it&#x27;s not currently a priority, work on it can be started.</p>
</li>
<li>
<p>Two new items were created to improve the developer experience of the <a href="https://github.com/input-output-hk/hydra/issues/1146" target="_blank" rel="noopener noreferrer">Hydra build
toolchain #1146</a>. Additionally, a
follow-up on things learned by <code>hydra-poll</code> aims to create a full end-to-end
example of a <a href="https://github.com/input-output-hk/hydra/issues/1098" target="_blank" rel="noopener noreferrer">two-player game in a Hydra head
#1098</a>.</p>
</li>
<li>
<p>There was already an item about reacting to main chain parameter changes on the
roadmap, which included not only protocol parameter updates, but also
hard-fork events. With the upcoming hard fork into <code>Conway</code>, the team split off the
changes needed to navigate the hard fork and clarified them:</p>
<ul>
<li><a href="https://github.com/input-output-hk/hydra/issues/1177" target="_blank" rel="noopener noreferrer">Conway support #1177</a> will make the <code>hydra-node</code> support Conway and allow users to keep heads open across the hard fork.</li>
<li><a href="https://github.com/input-output-hk/hydra/issues/1178" target="_blank" rel="noopener noreferrer">Drop Babbage support #1178</a> will eventually drop support for the Babbage era and retain maintainability.</li>
<li>The original item is only about <a href="https://github.com/input-output-hk/hydra/issues/195" target="_blank" rel="noopener noreferrer">reacting to protocol parameter changes #195</a> now.</li>
</ul>
</li>
<li>
<p>Substantial updates were made to the design of the next major feature <a href="https://github.com/input-output-hk/hydra/issues/1057" target="_blank" rel="noopener noreferrer">Incremental decommit #1057</a>, and work on it can be started.</p>
</li>
<li>
<p>In general, the team prepared several of these üí≠ idea items and many of them will turn into üí¨ features soon.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-development">Hydra development<a href="#hydra-development" class="hash-link" aria-label="Direct link to Hydra development" title="Direct link to Hydra development">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2023-10-31..2023-11-30" target="_blank" rel="noopener noreferrer">Issues and pull requests closed since the last
report</a></p>
<p>This month, the team worked on the following:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="meshjs--hydra">MeshJS + Hydra<a href="#meshjs--hydra" class="hash-link" aria-label="Direct link to MeshJS + Hydra" title="Direct link to MeshJS + Hydra">‚Äã</a></h3>
<p>At the beginning of month, the team attended the Cardano Summit in Dubai where they held
the <em>Hydra MasterClass</em> workshop. There they also presented the Hydra-Poll dApp
which is using MeshJS to build Hydra transactions on the frontend.</p>
<p>The Hydra team collaborated closely with the MeshJS team and as the outcome of this work
The MeshJS team added some Hydra specific features to the MeshJS SDK. There is a nice low
level <a href="https://meshjs.dev/apis/transaction/builderExample" target="_blank" rel="noopener noreferrer">API</a> for building
custom transactions which is pretty similar to what <code>cardano-cli</code> does.</p>
<p>Now you can use <code>isHydra</code> field which you can pass to this API which then uses
another set of protocol paramters suitable for Hydra (eg. usually in Hydra we
want to have zero transaction fees, reduce script execution units etc.).</p>
<p>Big thanks to the MeshJS team on giving much needed support. They were
presenting these changes in the monthly review meeting so make sure to watch the
<a href="https://drive.google.com/file/d/1-iv8IveUzA2KrJV_Kqrgx4ts05Ow0zjM" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rendering-the-hydra-specification">Rendering the Hydra specification<a href="#rendering-the-hydra-specification" class="hash-link" aria-label="Direct link to Rendering the Hydra specification" title="Direct link to Rendering the Hydra specification">‚Äã</a></h3>
<p>Besides working on the design of incremental commits itself, the team also
tidied up the way the <a href="https://hydra.family/head-protocol/core-concepts/specification" target="_blank" rel="noopener noreferrer">Hydra protocol
specification</a>
is written.</p>
<p>So far, the specification was written in LaTex and rendered to a PDF. LaTeX was
a good choice because of its expressiveness on math expressions, but not so
great a choice for pull requests and the entry barrier is quite
high. The majority of documentation around Hydra and Mithril is written using
Markdown and rendered into a webpage using a static site generator, currently
<a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer">Docusaurus</a>. Most modern Markdown renderers do support
LaTeX-style math nowadays, even the normal <a href="https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/writing-mathematical-expressions" target="_blank" rel="noopener noreferrer">GitHub file
preview</a>.</p>
<p>Hence, the team experimented with using the more standard Markdown format to write the
specification, but still being able to use LaTeX math <strong>and</strong> LaTeX macros
(which are <em>still</em> heavily used in the spec). The aim is to have both, a
PDF and HTML rendering.</p>
<p><img decoding="async" loading="lazy" src="https://ipfs.io/ipfs/QmPUTYaSViLEyZcGmsTPL4jHdGSevH3yc3RD7TRhU3ivwH?filename=Peek%202023-11-28%2018-42.gif" alt="" class="img_ev3q"></p>
<p>While not yet finished, the GIF above shows the progress being made using
<a href="https://pandoc.org/" target="_blank" rel="noopener noreferrer">pandoc</a> to resolve macros, producing a PDF via <code>xelatex</code>
and Docusaurus compatible markdown. Using powerful extensions of pandoc one can
even convert TikZ, GraphViz and Mermaid into both target formats.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community-update">Community update<a href="#community-update" class="hash-link" aria-label="Direct link to Community update" title="Direct link to Community update">‚Äã</a></h2>
<p>Beside the great work done by the MeshJS team towards supporting Hydra in the browser, here are some news and updates on community-led work streams related to Hydra:</p>
<ul>
<li>
<p>SundaeLabs has made good progress on their <a href="https://github.com/input-output-hk/hydra/pull/1118" target="_blank" rel="noopener noreferrer">offline mode
PR</a> which should
hit the main branch soon,</p>
</li>
<li>
<p>TxPipe has been collaborating with IOG&#x27;s creative engineering team
to build <em>Cardaminal</em>, a command-line wallet, and demonstrated it
during the monthly review meeting. Cardaminal is built in Rust,
leveraging <a href="https://github.com/txpipe/pallas" target="_blank" rel="noopener noreferrer">Pallas</a> libraries, and
is aimed at being a fully-fledged scriptable wallet providing users
with powerful stateful transaction edition capabilities, native
assets management, chain synchronisation, etc.</p>
<p>The plan is to make Cardaminal compatible with Hydra - to be able to
use it to interact with a head - and Mithril - using snapshots to
synchronise the wallet.</p>
</li>
<li>
<p>The team behind <a href="https://projectcatalyst.io/funds/10/f10-development-and-infrastructure/a-zero-knowledge-proof-framework-for-cardano-based-on-hydra-and-zk-snarks" target="_blank" rel="noopener noreferrer">ZK Snarks in
Hydra</a>
Catalyst proposal is making good progress and should be able to give
a demo at the next monthly review meeting</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>The monthly review meeting for November 2023 was held on 2023-11-27 via Google
Meet with these <a href="https://docs.google.com/presentation/d/1JA_frlOXVrrBeaBGUnIq3U9cclrfU1A2cZR9B2AeVJg" target="_blank" rel="noopener noreferrer">slides</a> and the <a href="https://drive.google.com/file/d/1-iv8IveUzA2KrJV_Kqrgx4ts05Ow0zjM" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<p>The Hydra team is thankful to have again had so many great demos from the numerous projects
in and around Hydra and Mithril projects - we should really schedule it to be one
hour planned duration. Also, if you have not watched it already, make sure to
check out the recording, the written report is merely expanding on a couple of
topics but cannot render the cool demonstrations.</p>
<p>At first look, the demonstrated projects may appear not related - we even had a
minimal command-line wallet on the show after all. But as we went on, these
impulses spark discussions and it becomes clear that all of these projects are
connected.</p>
<p>For example, the terminal-based wallet &#x27;Cardaminal&#x27; as it was presented the
first time in public this month, could itself become a Mithril client for faster
synchronizing or even light-mode using the recently published Rust client
library for Mithril. Furthermore, such a minimal wallet would be a great testing
ground for a Hydra-aware wallet. The MeshJS integration also has further
potential of Hydra specific <code>fetcher</code> and <code>submitter</code> providers.</p>
<p>On the other hand, we also stumbled over not-so-optimistic sentiment even in
much more mature scaling solutions like the Bitcoin Lightning Network. <a href="https://twitter.com/udiWertheimer/status/1719122153155473492" target="_blank" rel="noopener noreferrer">This
tweet</a> summarizes
that creating non-custodial [scalability/LN] solutions &#x27;feel like the most
thankless thing in the world&#x27;.</p>
<p>It is an exciting ride still, but events like this monthly review meeting with
its colorful demonstrations of small steps to improve the usability
and scalability of Cardano piece by piece with often unknown synergies is also
empowering. This month again made us feel not &#x27;only a tribe&#x27;, but more a working
group across the Cardano community .. the Cardano Scaling group!?</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This report summarizes the work on Hydra since September 2023. It serves as"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/monthly/2023-10">October 2023</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-06T13:44:16.000Z" itemprop="datePublished">November 6, 2023</time> ¬∑ <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/abailly-iohk" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/abailly-iohk.png" alt="Arnaud Bailly" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/abailly-iohk" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Arnaud Bailly</span></a></div><small class="avatar__subtitle" itemprop="description">Lead Architect</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This report summarizes the work on Hydra since September 2023. It serves as
preparation for the monthly review meeting (see <a href="https://docs.google.com/presentation/d/1pJMRp0YsszJenUvDmknm3wq9yyUE1CDRSYijjILrkHo" target="_blank" rel="noopener noreferrer">slides</a> and
<a href="https://drive.google.com/file/d/1U4yZhliGykxF3BddAAXb4RD417UvsQWB" target="_blank" rel="noopener noreferrer">recording</a>), where the team updates project stakeholders on recent
developments to gather their feedback on proposed plans.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">‚Äã</a></h2>
<p>This month, the team released version 0.13.0, and updated the project
<a href="https://github.com/orgs/input-output-hk/projects/21/views/7" target="_blank" rel="noopener noreferrer">roadmap</a> to include
the next planned version 0.14.0:</p>
<p><img decoding="async" loading="lazy" alt="The roadmap with features and ideas" src="/assets/images/2023-10-roadmap-f6527e7656a553a4a1b730328278cc6a.jpg" width="6642" height="2881" class="img_ev3q"> <small><center>The latest roadmap with features and ideas</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="release-0130">Release 0.13.0<a href="#release-0130" class="hash-link" aria-label="Direct link to Release 0.13.0" title="Direct link to Release 0.13.0">‚Äã</a></h4>
<ul>
<li>
<p>Implemented security fixes to Hydra on-chain scripts, all of which are only exploitable by other head participants (not any attacker)</p>
</li>
<li>
<p>Added support for (externally) committing inline datums</p>
</li>
<li>
<p>Improved stability by querying the <code>cardano-node</code> at the tip</p>
</li>
<li>
<p>Improved state persistence</p>
</li>
<li>
<p>See <a href="https://github.com/input-output-hk/hydra/releases/tag/0.13.0" target="_blank" rel="noopener noreferrer">full release notes</a> and a list of <a href="https://github.com/input-output-hk/hydra/milestone/13?closed=1" target="_blank" rel="noopener noreferrer">delivered features</a>.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notable-updates">Notable updates<a href="#notable-updates" class="hash-link" aria-label="Direct link to Notable updates" title="Direct link to Notable updates">‚Äã</a></h4>
<ul>
<li>
<p>Moved the <a href="https://github.com/input-output-hk/hydra/issues/188" target="_blank" rel="noopener noreferrer">network resilience
#188</a> issue out of version 0.13.0 to
allow for a quick release of the security fixes. This feature has been split
in two parts, both of which are completed and will soon be included in the 0.14.0 release.</p>
</li>
<li>
<p>A new user submitted a feature idea about supporting extended keys <a href="https://github.com/input-output-hk/hydra/issues/1141" target="_blank" rel="noopener noreferrer">#1141</a>. Initially
urgent, it&#x27;s no longer a priority and requires further clarification.</p>
</li>
<li>
<p>Although not part of Hydra version 0.14.0, the team completed the integration of <a href="https://github.com/input-output-hk/hydra/issues/1078" target="_blank" rel="noopener noreferrer">Hydra
support in Kupo #1078</a>,
which can already be used with Kupo version
<a href="https://github.com/CardanoSolutions/kupo/releases/tag/v2.7" target="_blank" rel="noopener noreferrer">2.7.0</a></p>
</li>
<li>
<p>Implemented a new <a href="https://github.com/input-output-hk/hydra/issues/1110" target="_blank" rel="noopener noreferrer">Hydra Poll DApp</a>
feature, which is an example to be demonstrated at the Cardano Summit 2023.</p>
</li>
<li>
<p>Realized <a href="https://github.com/input-output-hk/hydra/issues/1096" target="_blank" rel="noopener noreferrer">stateless chain observation
#1096</a> as a dedicated
feature, which will add a <code>hydra-chain-observer</code> tool and simplify upcoming
feature implementation related to layer 1 transactions.</p>
</li>
<li>
<p>Created a feature idea item to <a href="https://github.com/input-output-hk/hydra/issues/1092" target="_blank" rel="noopener noreferrer">migrate all validators to Aiken
#1092</a>. This was moved
to 1.0.0 though, as it would require a complete re-audit of the scripts and
and there is no urgent requirement for performance improvements at this stage.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-development">Hydra development<a href="#hydra-development" class="hash-link" aria-label="Direct link to Hydra development" title="Direct link to Hydra development">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2023-09-30..2023-10-31" target="_blank" rel="noopener noreferrer">Issues and pull requests closed since the last
report</a></p>
<p>This month, the team worked on the following:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="network-resilience-to-node-crash">Network resilience to node crash<a href="#network-resilience-to-node-crash" class="hash-link" aria-label="Direct link to Network resilience to node crash" title="Direct link to Network resilience to node crash">‚Äã</a></h4>
<p>Last month, the team worked on making the Hydra network resilient to
transient network connectivity failure (see
<a href="https://github.com/input-output-hk/hydra/issues/188" target="_blank" rel="noopener noreferrer">#188</a>). However, this
was just one aspect of the larger effort to improve the overall stability and
reliability of the network. By completing
<a href="https://github.com/input-output-hk/hydra/issues/1079" target="_blank" rel="noopener noreferrer">#1079</a>, the team also
made the network resilient to arbitrary node failures, which is a much
more likely event to happen should the network run for a significant
amount of time.</p>
<p>Hydra nodes now persist the network messages they <em>send</em> to peers and
together with the already present acknowledgment mechanism, this means
a node recovering from a crash can resend messages which were not
received by their peers.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-poll-dapp">Hydra Poll DApp<a href="#hydra-poll-dapp" class="hash-link" aria-label="Direct link to Hydra Poll DApp" title="Direct link to Hydra Poll DApp">‚Äã</a></h4>
<p>As the Hydra team seeks to adhere more to the principles of
<a href="https://en.wikipedia.org/wiki/Eating_your_own_dog_food" target="_blank" rel="noopener noreferrer">dogfooding</a>,
we wanted to upgrade our basic Hydraw application to something more
interactive. We, therefore, built a <a href="https://github.com/input-output-hk/hydra/issues/1110" target="_blank" rel="noopener noreferrer">poll
DApp</a> with the
goal of demonstrating how one can build an application living entirely
in the frontend that can interact directly with a hydra-node, using
its websockets-based API. This application was also showcased at the
<a href="https://summit.cardano.org/" target="_blank" rel="noopener noreferrer">Cardano Summit 2023</a>, where the Hydra
team delivered a masterclass.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-to-ghc-96--brick-110">Upgrade to GHC 9.6 &amp; Brick 1.10<a href="#upgrade-to-ghc-96--brick-110" class="hash-link" aria-label="Direct link to Upgrade to GHC 9.6 &amp; Brick 1.10" title="Direct link to Upgrade to GHC 9.6 &amp; Brick 1.10">‚Äã</a></h4>
<p>This month, we were able to update our compiler toolchain from GHC 9.2.8 to
9.6.3. This also required us to upgrade the hydra-tui from Brick 0.73 to 1.10
to stay compatible with the new version of the mtl.</p>
<p>The update to Brick necessitated a complete rewrite of the hydra-tui which
greatly simplifies the application logic, using Brick&#x27;s new elm architecture
style combined with microlens-mtl.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community-update">Community update<a href="#community-update" class="hash-link" aria-label="Direct link to Community update" title="Direct link to Community update">‚Äã</a></h2>
<p>This month, the monthly review meeting was almost completely covered by
demonstrations from the various teams working on and with Hydra. Don&#x27;t miss out
on the demonstrations of the various community contributions and make sure to
also view the <a href="https://drive.google.com/file/d/1U4yZhliGykxF3BddAAXb4RD417UvsQWB" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hypix">Hypix<a href="#hypix" class="hash-link" aria-label="Direct link to Hypix" title="Direct link to Hypix">‚Äã</a></h3>
<p>Hypix is a continuation of the &#x27;Hydraw&#x27; demonstration the team used throughout
development. The project is spear-headed by Trym Bruset and will integrate CIP-68
NFTs with instant transaction processing in a Hydra head to realize
collaboratively created art pieces. The project is progressing great with an
open beta available soon.</p>
<p><img decoding="async" loading="lazy" alt="Hypix user interface" src="/assets/images/2023-10-hypix-0a880910a75eea98c2be77f520f1d691.png" width="2048" height="1073" class="img_ev3q"> <small><center>The Hypix user interface</center></small></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kupo-x-hydra">Kupo x Hydra<a href="#kupo-x-hydra" class="hash-link" aria-label="Direct link to Kupo x Hydra" title="Direct link to Kupo x Hydra">‚Äã</a></h3>
<p>Indexers of chain data, like <a href="https://github.com/CardanoSolutions/kupo" target="_blank" rel="noopener noreferrer">Kupo</a>,
are useful to enable lightweight decentralized applications like Hypix. As the
application state of Hypix, for example, is not only on the Cardano layer 1, but
also in the Hydra head, Kupo was enhanced to run &#x27;in front of&#x27; a <code>hydra-node</code> and
provide the same API for UTXOs indexed from a Hydra head. This was a <a href="https://github.com/CardanoSolutions/kupo/pull/117" target="_blank" rel="noopener noreferrer">joint
effort</a> between
<a href="https://github.com/KtorZ" target="_blank" rel="noopener noreferrer">@KtorZ</a>, <a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer">@v0d1ch</a> and
<a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer">@ch1bo</a> and has been <a href="https://github.com/CardanoSolutions/kupo/releases/tag/v2.7" target="_blank" rel="noopener noreferrer">released in version 2.7 of
Kupo</a>.</p>
<p><img decoding="async" loading="lazy" alt="Kupo indexing data" src="/assets/images/2023-10-kupo-8aa459cbfcbfd884cbd7efd66a88ef19.gif" width="1576" height="699" class="img_ev3q"> <small><center>Kupo indexing a Hydra head</center></small></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="offline-mode-hydra-node">Offline-mode Hydra node<a href="#offline-mode-hydra-node" class="hash-link" aria-label="Direct link to Offline-mode Hydra node" title="Direct link to Offline-mode Hydra node">‚Äã</a></h3>
<p><a href="https://projectcatalyst.io/funds/10/f10-development-and-infrastructure/sundae-labs-hydra-ledger-only-mode" target="_blank" rel="noopener noreferrer">Ledger-only
mode</a>
for Hydra was one of the Catalyst Fund10 projects that got funded and
work is underway to make it an integral part of Hydra software
components. A <a href="https://hydra.family/head-protocol/unstable/adr/28.%20Offline%20mode" target="_blank" rel="noopener noreferrer">new
ADR</a>
has been proposed which details the rationale behind this new feature
and an overview of what it brings and what impacts it will have on the
hydra-node.</p>
<p>Moreover, this implementation is
<a href="https://github.com/input-output-hk/hydra/pull/1118" target="_blank" rel="noopener noreferrer">underway</a> and
should be part of the next release. This will enable running a single
hydra-node as a kind of &#x27;ledger-as-a-service&#x27;, priming it with some
UTXOs and allowing clients to submit and validate transactions without
any relationship to layer 1.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="voting-on-hydra">Voting on Hydra<a href="#voting-on-hydra" class="hash-link" aria-label="Direct link to Voting on Hydra" title="Direct link to Voting on Hydra">‚Äã</a></h3>
<p>The
<a href="https://github.com/cardano-foundation/hydra-voting-poc" target="_blank" rel="noopener noreferrer">Hydra-for-voting</a>
project has been started earlier this year as a proof-of-concept to
explore how a Hydra Head could help improve the voting or rather
tallying process for Catalyst and other large-scale on-chain
decision-making process. It&#x27;s been on pause for a few months due to
other priorities but it&#x27;s been revived recently and put to use to
tally votes for the Cardano Summit&#x27;s awards recipients.</p>
<p>This development effort led to a couple of new features and fixes:</p>
<ul>
<li>The ability to <a href="https://github.com/input-output-hk/hydra/issues/1111" target="_blank" rel="noopener noreferrer">submit
a transaction</a>
for layer 1 using &#x27;standard&#x27; CBOR-hex format</li>
<li>Upgrade to the checked-in <a href="https://github.com/input-output-hk/hydra/issues/1117" target="_blank" rel="noopener noreferrer">protocol
parameters</a>
used by demo network which were out of sync with the internal ledger
version</li>
<li>Discussion on the usage of <a href="https://github.com/input-output-hk/hydra/issues/1141" target="_blank" rel="noopener noreferrer">extended payment
keys</a> in
in relation to the Hydra Head protocol</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Hydra voting UI" src="/assets/images/hydra-voting-d2eb296eff8d804cdc95409c5cc427b8.png" width="2670" height="1328" class="img_ev3q"> <small><center>Hydra Tallying UI</center></small></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="zk-snarks-on-hydra">ZK Snarks on Hydra<a href="#zk-snarks-on-hydra" class="hash-link" aria-label="Direct link to ZK Snarks on Hydra" title="Direct link to ZK Snarks on Hydra">‚Äã</a></h3>
<p>The team has initiated discussions with another funded Catalyst Fund10
project, exploring the implementation of a <a href="https://projectcatalyst.io/funds/10/f10-development-and-infrastructure/a-zero-knowledge-proof-framework-for-cardano-based-on-hydra-and-zk-snarks" target="_blank" rel="noopener noreferrer">zero-knowledge proof system</a>
for Cardano, utilizing Hydra and ZK Snarks. At this early stage, there
is minimal progress to display, but the team is eager to start the
development of this promising tool.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>The monthly review meeting for October 2023 was held on 2023-10-30 via Google
Meet with these <a href="https://docs.google.com/presentation/d/1pJMRp0YsszJenUvDmknm3wq9yyUE1CDRSYijjILrkHo" target="_blank" rel="noopener noreferrer">slides</a> and the <a href="https://drive.google.com/file/d/1U4yZhliGykxF3BddAAXb4RD417UvsQWB" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<p>As mentioned above, the meeting was about 45 minutes of demonstrations - which
clearly shows that we are in the wake of Catalyst Fund10 where several project
proposals involving Hydra and Mithril got funded and at the same time everyone
was preparing for the Cardano Summit 2023.</p>
<p>With this many community contributions and projects moving forward, there was
not much time to discuss the Hydra roadmap or go into details about Mithril
project status. This is great!</p>
<p>Besides, the project roadmaps seem to be well aligned where our next features
in-line are most anticipated (incremental de-/commits) and the adoption of Mithril
is showing a healthy level with clear next steps and features ahead.</p>
<p>It is getting increasingly hard to keep track of all the new developments around
Hydra. However, that is also often not needed and the Cardano builders just set
off and <a href="https://twitter.com/AltiMario/status/1711738372320825827?s=20" target="_blank" rel="noopener noreferrer">build
things</a> using
Hydra these days.</p>
<p>November will start with the Cardano Summit, likely yielding even more feedback
and feature ideas from users. Following this, there will be several productive weeks
focused on feature development before the usual Christmas and New Year breaks across the teams.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This report summarizes the work on Hydra since August 2023. It serves as"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/monthly/2023-09">September 2023</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-29T07:35:24.000Z" itemprop="datePublished">September 29, 2023</time> ¬∑ <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This report summarizes the work on Hydra since August 2023. It serves as
preparation for the monthly review meeting (see <a href="https://docs.google.com/presentation/d/1YAWR4pz1gG2dwtGvm5KOAHtrjRcchPLUKhDA16u10ps" target="_blank" rel="noopener noreferrer">slides</a> and
<a href="https://drive.google.com/file/d/1X8QnmG9gddR-t2V6F2oE7bYCYAEs2RPe/view" target="_blank" rel="noopener noreferrer">recording</a>), where the team updates project stakeholders on recent
developments to gather their feedback on proposed plans.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">‚Äã</a></h2>
<p>This month, the
<a href="https://github.com/orgs/input-output-hk/projects/21/views/7" target="_blank" rel="noopener noreferrer">roadmap</a> has not
changed much as the team mostly clarified upcoming features.</p>
<p><img decoding="async" loading="lazy" alt="The roadmap with features and ideas" src="/assets/images/2023-09-roadmap-0db0b73e23619ca19806a878e3a37091.png" width="2913" height="1133" class="img_ev3q"> <small><center>The latest roadmap with features and ideas</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notable-updates">Notable updates<a href="#notable-updates" class="hash-link" aria-label="Direct link to Notable updates" title="Direct link to Notable updates">‚Äã</a></h4>
<ul>
<li>
<p>Added and completed <a href="https://github.com/input-output-hk/hydra/issues/1043" target="_blank" rel="noopener noreferrer">support for inline datums in commit API #1043</a>, which was reported by a user.</p>
</li>
<li>
<p>Current work on <a href="https://github.com/input-output-hk/hydra/issues/188" target="_blank" rel="noopener noreferrer">network resilience #188</a> yielded two new / follow-up items <a href="https://github.com/input-output-hk/hydra/issues/1079" target="_blank" rel="noopener noreferrer">#1079</a> and <a href="https://github.com/input-output-hk/hydra/issues/1080" target="_blank" rel="noopener noreferrer">#1080</a>. To minimize the &#x27;scope creep&#x27; from this topic, the team has narrowed down the direct goal to improve the situation incrementally.</p>
</li>
<li>
<p>When detailing the design of incremental de-/commits, the feature was also split in two. Each of the features would have a different impact on the user experience and relates to other ideas:</p>
<ul>
<li>
<p><a href="https://github.com/input-output-hk/hydra/issues/199" target="_blank" rel="noopener noreferrer">Incremental commit #199</a> is a bit more complicated, but paves the way for directly open heads and could make <a href="https://github.com/input-output-hk/hydra/issues/699" target="_blank" rel="noopener noreferrer">Always abortable head #699</a> redundant.</p>
</li>
<li>
<p><a href="https://github.com/input-output-hk/hydra/issues/1057" target="_blank" rel="noopener noreferrer">Incremental decommit #1057</a> is fairly straightforward and can be evolved into &#x27;partial fanouts&#x27;, which solves similar problems as the <a href="https://github.com/input-output-hk/hydra/issues/190" target="_blank" rel="noopener noreferrer">split-fanout #190</a> and <a href="https://github.com/input-output-hk/hydra/issues/370" target="_blank" rel="noopener noreferrer">only signing closable snapshots #370</a> would address. Also, the <a href="https://github.com/input-output-hk/hydra/issues/198" target="_blank" rel="noopener noreferrer">optimistic head closure #198</a> feature is closely related to this item.</p>
</li>
</ul>
</li>
<li>
<p>Added a new feature to improve user journey of running the <code>hydra-node</code> by <a href="https://github.com/input-output-hk/hydra/issues/1064" target="_blank" rel="noopener noreferrer">removing the command line defaults #1064</a>. This came out of prior <a href="https://github.com/input-output-hk/hydra/discussions/454" target="_blank" rel="noopener noreferrer">idea discussion #454</a> which highlights the life cycle of ideas and features on the Hydra project.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cardano-scaling-workshop-in-nantes-france">Cardano Scaling workshop in Nantes, France<a href="#cardano-scaling-workshop-in-nantes-france" class="hash-link" aria-label="Direct link to Cardano Scaling workshop in Nantes, France" title="Direct link to Cardano Scaling workshop in Nantes, France">‚Äã</a></h2>
<p>From 2023-09-12 to 2023-09-14, most of the <em>Scaling Tribe</em> members, that is the two Hydra and Mithril teams, met for a three-day workshop in the beautiful French city of <a href="https://en.wikipedia.org/wiki/Nantes" target="_blank" rel="noopener noreferrer">Nantes</a>. This workshop was run following the <a href="https://openspaceworld.org/wp2/" target="_blank" rel="noopener noreferrer">Open Space</a> technique which makes room for every participant to experiment and focus on what&#x27;s of interest for them at the time while being engaging for the whole team. Here is a selection of topics covered that were most relevant to Hydra.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aiken-validator-experiment">Aiken validator experiment<a href="#aiken-validator-experiment" class="hash-link" aria-label="Direct link to Aiken validator experiment" title="Direct link to Aiken validator experiment">‚Äã</a></h3>
<p>As part of thw workshop, we explored how hard it would be to implement one of
the Hydra validators in <code>aiken</code>. After roughly two hours of work we had a
<code>hydra-node</code> running, tests passing and benchmarks of verifying one step in the
Hydra protocol using aiken.</p>
<p>The <code>hydra-node</code> just uses the UPLC binary and its hash to construct
transactions, we could rely on the same interface, with the difference that the
script binary gets produced by <code>aiken</code>. Aiken does produce a socalled blueprint
<code>plutus.json</code> containing the contract. We staged that file into git and embedded
it into a Haskell interface to be able to reference the compiled script as
<code>SerialisedScript</code> from <code>hydra-node</code>.</p>
<p>Next, we ported the simplest contract we have, namely the
<a href="https://github.com/input-output-hk/hydra/blob/ec6c7a2ab651462228475d0b34264e9a182c22bb/hydra-plutus/src/Hydra/Contract/Commit.hs" target="_blank" rel="noopener noreferrer">Commit</a>
validator, <a href="https://github.com/input-output-hk/hydra/blob/4ec572511fc13a526b85efce3aac556ae5bd007c/hydra-plutus/validators/commit.ak" target="_blank" rel="noopener noreferrer">to
Aiken</a>.
This was fairly straight-forward and we test were passing after some fiddling
with internal representations of data strctures (<code>plutus-tx</code> is encoding triples
as <code>Constr</code> data on-chain).</p>
<p>The results? A significant reduction in script size, cpu and memory usage on
<code>collect</code> and <code>abort</code> transactions - or in different words, <a href="https://github.com/input-output-hk/hydra/pull/1072#issuecomment-1717644108" target="_blank" rel="noopener noreferrer">doubling the
supported</a>
number of parties in a Head. üéâ</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="shallow-cardano-node-experiment">Shallow cardano-node experiment<a href="#shallow-cardano-node-experiment" class="hash-link" aria-label="Direct link to Shallow cardano-node experiment" title="Direct link to Shallow cardano-node experiment">‚Äã</a></h3>
<p>Running a hydra-node requires running a cardano-node, and running a
cardano-node requires synchronisation with the chain and about 150
gigabytes of data to be downloaded and verified, which is a
significant barrier to quickly spin-up hydra-node and Hydra
Heads. Given a Hydra node does not need to look at the history of the
chain, a <em>Shallow</em> cardano-node that can run without the full database
of immutable files would be fine, assuming we can retrieve a recent
state of the chain with the same security guarantees than a fully
synchronised chain. This is exactly what Mithril can provide!</p>
<p>We ran a small experiment, trying to start a cardano-node manually
removing all but the last files from the <em>immutable DB</em> and it worked
as long as one does not query the node for a block too old in the
past. This lead us to envision an improved user experience for
installing and running a hydra-node, by packaging it with a
cardano-node and a mithril-client to retrieve only the minimum needed
state and be able to start a fully functioning hydra-node in minutes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-topics">Other topics<a href="#other-topics" class="hash-link" aria-label="Direct link to Other topics" title="Direct link to Other topics">‚Äã</a></h3>
<ul>
<li>We continued working on <a href="https://github.com/input-output-hk/hydra/issues/1078" target="_blank" rel="noopener noreferrer">Kupo x
Hydra</a>
integration, benefiting from the presence of Kupo&#x27;s creator and
former Hydra team member, Matthias Benkort</li>
<li>We brainstormed possible synergies between the Hydra and Mithril
projects, something that solidified into the desire to explore this
concept of &quot;Shallow node&quot; and its integration within Hydra</li>
<li>We discussed and clarified our new <a href="https://github.com/input-output-hk/hydra/pull/1088" target="_blank" rel="noopener noreferrer">Security Vulnerability
Disclosure
Policy</a></li>
<li>Discussing the idea of a joint documentation effort, we realised the
existing documentation of both teams could be improved, for example
by following a <a href="https://documentation.divio.com" target="_blank" rel="noopener noreferrer">Standard documentation
framework</a>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-development">Hydra development<a href="#hydra-development" class="hash-link" aria-label="Direct link to Hydra development" title="Direct link to Hydra development">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2023-08-29..2023-09-29" target="_blank" rel="noopener noreferrer">Issues and pull requests closed since the last
report</a></p>
<p>This month, the team worked on the following:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="network-resilience-to-disconnects-188">Network resilience to disconnects <a href="https://github.com/input-output-hk/hydra/issues/188" target="_blank" rel="noopener noreferrer">#188</a><a href="#network-resilience-to-disconnects-188" class="hash-link" aria-label="Direct link to network-resilience-to-disconnects-188" title="Direct link to network-resilience-to-disconnects-188">‚Äã</a></h4>
<p>If a Hydra node crashes, it can recover its state from disk thanks to the
<a href="https://github.com/input-output-hk/hydra/pull/1000" target="_blank" rel="noopener noreferrer">event-sourced persistency</a>
mechanism in place. But if a peer inside the head sends messages while the node
is down, these messages are lost for this node and this can well lead to the
head being stuck.</p>
<p>For instance, in the following picture, we see that if Bob was down when Alice
acknowledged snapshot 10, then it will wait forever for this acknowledgement and
will refuse to move forward with the head, making it stuck.</p>
<p><img decoding="async" loading="lazy" alt="Head stuck because of lost message" src="/assets/images/2023-09-head-stuck-e89cfe83fa8b153326d46f1910d00b9d.png" width="854" height="1082" class="img_ev3q"> <small><center>Head stuck because of lost message</center></small></p>
<p>Hydra is designed to deal with non-cooperative peers in a very safe way:
close the head! And this situation could be generalized as a non cooperative
peer situation. So the safe move is to just close the head.</p>
<p>But practically speaking, closing the head every time a node restarts or a network
connection is interrupted can lead to an operations nightmare. So the question we&#x27;re
exploring is, can we distinguish between non cooperative peer or just transient
communication issue?</p>
<ul>
<li><a href="https://github.com/input-output-hk/hydra/blob/master/docs/adr/2023-09-08_027-network-resilience.md" target="_blank" rel="noopener noreferrer">ADR 27</a>
gives details about our current strategy</li>
<li><a href="https://github.com/input-output-hk/hydra/pull/1074" target="_blank" rel="noopener noreferrer">#1074</a> is a first implementation of this strategy</li>
<li><a href="https://github.com/input-output-hk/hydra/issues/1080" target="_blank" rel="noopener noreferrer">#1080</a> should specify the resulting network protocol so that others could implement compatible hydra nodes</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="incremental-commits-and-decommits-199">Incremental commits and decommits <a href="https://github.com/input-output-hk/hydra/issues/199" target="_blank" rel="noopener noreferrer">#199</a><a href="#incremental-commits-and-decommits-199" class="hash-link" aria-label="Direct link to incremental-commits-and-decommits-199" title="Direct link to incremental-commits-and-decommits-199">‚Äã</a></h4>
<p>In the beginning of this month, some progress on incremental commits and
decommits was made. An early
<a href="https://twitter.com/ch1bo_/status/1696067253089743289" target="_blank" rel="noopener noreferrer">experiment</a> about the
off-chain / node logic showed that we can re-use the <code>/commit</code> validator and
motivated design work on the feature items.</p>
<p>As mentioned above, the protocol extension was split into two items <a href="https://github.com/input-output-hk/hydra/issues/199" target="_blank" rel="noopener noreferrer">Incremental
commits #199</a> and
[Incremental decommits</p>
<h1><a href="https://github.com/input-output-hk/hydra/issues/1057" target="_blank" rel="noopener noreferrer">1057</a>. Both items contain</h1>
<p>high-level description, interaction outline and a first design of the on-chain
validators which is currently getting discussed by the Hydra contributors and
researchers.</p>
<p>Especially the incremental commit is not trivial as the interaction between
layer 1 and layer 2 is quite intricate. Observing a deposit on the Cardano
mainchain may not be seen by all parties at the same time and this should not
lock up the layer 2 process of transactions, while premature usage of committed
funds is to be avoided. On the other hand, each step in the protocol needs to be
secure in presence of an adversary and unlocking of committed funds must always
be possible.</p>
<p>Once this validator design is clear, we can get started implementing one or both
of the features to enable more flexible usage of the Hydra head protocol.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="refactored-chain-state-1049">Refactored chain state <a href="https://github.com/input-output-hk/hydra/pull/1049" target="_blank" rel="noopener noreferrer">#1049</a><a href="#refactored-chain-state-1049" class="hash-link" aria-label="Direct link to refactored-chain-state-1049" title="Direct link to refactored-chain-state-1049">‚Äã</a></h4>
<p>Following up the implementation of ADR#24, this marks the first enhancement in
a series of refinements, and our goal was optimization.</p>
<p>We eliminated the need for recursive types in persisted chain states,
transitioning to a non-empty history model, preserving full backward
compatibility with existing systems.</p>
<p>Importantly, throughout this refactor, we&#x27;ve kept the interface between the
chain and logic layers entirely unchanged. This ensures a smooth transition and
seamless integration with existing components.</p>
<p>One of the notable advantages of this refactor is a reduced persistence
footprint. We now store individual points of the chain state, enhancing storage
efficiency.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="open-source-contributions">Open source contributions<a href="#open-source-contributions" class="hash-link" aria-label="Direct link to Open source contributions" title="Direct link to Open source contributions">‚Äã</a></h4>
<p>This month some open source contributions were received, and the team was able to
contribute back to one project:</p>
<ul>
<li>Hydra: Lightning network-style payments <a href="https://hydra.family/head-protocol/unstable/use-cases/payments/lighting-network-like-payments/" target="_blank" rel="noopener noreferrer">use case</a> write-up by <a href="https://github.com/k-solutions" target="_blank" rel="noopener noreferrer">@k-solutions</a></li>
<li>Aiken: Started an emacs <a href="https://github.com/aiken-lang/aiken-mode" target="_blank" rel="noopener noreferrer">aiken-mode</a> by @ch1bo (triggered by our experiments)</li>
<li>Hydra: Small <a href="https://github.com/input-output-hk/hydra/pull/1042" target="_blank" rel="noopener noreferrer">fix in the docs</a> by <a href="http://github.com/caike" target="_blank" rel="noopener noreferrer">@caike</a> (from RareEvo workshop)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="current-scaling-use-cases-being-tracked">Current scaling use cases being tracked<a href="#current-scaling-use-cases-being-tracked" class="hash-link" aria-label="Direct link to Current scaling use cases being tracked" title="Direct link to Current scaling use cases being tracked">‚Äã</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="hypix">Hypix<a href="#hypix" class="hash-link" aria-label="Direct link to Hypix" title="Direct link to Hypix">‚Äã</a></h5>
<ul>
<li>An update of hydraw with improved usability to stimulate user engagement</li>
<li>A showcase for Hydra, with an option to productize</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="bookio">Book.io<a href="#bookio" class="hash-link" aria-label="Direct link to Book.io" title="Direct link to Book.io">‚Äã</a></h5>
<ul>
<li>A Web3 marketplace for tokenized digital eBooks and Audiobooks</li>
<li>Requires NFT minting and distribution at scale (for each copy/instance of a book)</li>
<li>Opened a discussion to investigate possible approaches to scaling their operations on Cardano</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="midnight">Midnight<a href="#midnight" class="hash-link" aria-label="Direct link to Midnight" title="Direct link to Midnight">‚Äã</a></h5>
<ul>
<li>DUST airdrop and side-chain operation</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="singularitynet">SingularityNet<a href="#singularitynet" class="hash-link" aria-label="Direct link to SingularityNet" title="Direct link to SingularityNet">‚Äã</a></h5>
<ul>
<li>A Web3 marketplace for AI services offered and consumed through a pay-per-use API</li>
<li>Discussion ongoing about porting an existing Ethereum solution to Cardano</li>
<li>A chance to build on previous Hydra Pay efforts and upgrade the design to support unidirectional micropayments channels</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="sundaelabs">SundaeLabs<a href="#sundaelabs" class="hash-link" aria-label="Direct link to SundaeLabs" title="Direct link to SundaeLabs">‚Äã</a></h5>
<ul>
<li>Sundae proposed a ledger-only mode of Hydra, modelled on Gummiworm (the protocol used by SundaeSwap)</li>
<li><a href="https://cardano.ideascale.com/c/idea/102138" target="_blank" rel="noopener noreferrer">https://cardano.ideascale.com/c/idea/102138</a></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="emurgo">Emurgo<a href="#emurgo" class="hash-link" aria-label="Direct link to Emurgo" title="Direct link to Emurgo">‚Äã</a></h5>
<ul>
<li>Initial discussions to evaluate building a payments channel network using Hydra</li>
<li>Could leverage work done on Hydra Pay by Obsidian</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>The monthly review meeting for September 2023 was held on 2023-09-20 via Google
Meet with these <a href="https://docs.google.com/presentation/d/1YAWR4pz1gG2dwtGvm5KOAHtrjRcchPLUKhDA16u10ps" target="_blank" rel="noopener noreferrer">slides</a> and the <a href="https://drive.google.com/file/d/1X8QnmG9gddR-t2V6F2oE7bYCYAEs2RPe/view" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<p>This concludes yet another fully-packed month, this time not only
focusing on Hydra but also encompassing Mithril and the broader goal of
supporting Cardano&#x27;s scaling effort to the best of our
ability. Meeting and working together in person demonstrated once
more, if this were needed, how much a small group of highly motivated
people can achieve. It also fueled our desire and consolidated our
vision of being a small group of engineers with a clear <em>purpose</em>,
scratching our &quot;own itch&quot;, contributing to the whatever projects and
tools is needed and best for the job at hand, relentlessly prototyping
and experimenting collectively to find the best solutions solving
actual people&#x27;s problems.</p>
<p>It is also worth mentioning that Catalyst&#x27;s Fund 10 outcome shoudl
result in more contributions to Hydra (and hopefully Mithril!) in the
near term.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This report summarizes the work on Hydra since July 2023. It serves as"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/monthly/2023-08">August 2023</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-08-30T13:35:03.000Z" itemprop="datePublished">August 30, 2023</time> ¬∑ <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/pgrange" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/pgrange.png" alt="Pascal Grange" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/pgrange" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Pascal Grange</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/v0d1ch.png" alt="Sasha Bogicevic" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sasha Bogicevic</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ffakenz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ffakenz.png" alt="Franco Testagrossa" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ffakenz" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Franco Testagrossa</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This report summarizes the work on Hydra since July 2023. It serves as
preparation for the monthly review meeting (see <a href="https://docs.google.com/presentation/d/1MrCeUsYb3FQk7aCwMZdQs8mc5BfLOIjkK9gcWzgDdDc/edit#slide=id.g1f87a7454a5_0_1392" target="_blank" rel="noopener noreferrer">slides</a> and
<a href="https://drive.google.com/file/d/14pDsf0hDyh9HK8sCSMmkmT8gY8YxgOQ8/view" target="_blank" rel="noopener noreferrer">recording</a>), where the team updates project stakeholders on recent
developments to gather their feedback on proposed plans.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">‚Äã</a></h2>
<p>This month, the team released version 0.12.0, and the project
<a href="https://github.com/orgs/input-output-hk/projects/21/views/7" target="_blank" rel="noopener noreferrer">roadmap</a> has been
slightly updated to focus 0.13.0 on network resiliency and bump incremental
commit and decommit in priority:</p>
<p><img decoding="async" loading="lazy" alt="The roadmap with features and ideas" src="/assets/images/2023-08-roadmap-8a47097a86ba8dc4a2a48767414fa548.jpg" width="2048" height="682" class="img_ev3q"> <small><center>The latest roadmap with features and ideas</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="release-0120">Release 0.12.0<a href="#release-0120" class="hash-link" aria-label="Direct link to Release 0.12.0" title="Direct link to Release 0.12.0">‚Äã</a></h4>
<ul>
<li>
<p>Support cardano-node 8.1.2</p>
<ul>
<li>Updated client and Plutus versions</li>
</ul>
</li>
<li>
<p>Layer 2 protocol changes</p>
<ul>
<li>Authenticated messages</li>
<li>Removed redundancy</li>
</ul>
</li>
<li>
<p>Event-sourced persistence</p>
</li>
<li>
<p>New API endpoints</p>
</li>
<li>
<p>Removal of <em>internal commit</em> endpoint</p>
</li>
<li>
<p>Improved off-chain transaction processing performance</p>
</li>
<li>
<p>Security fixes</p>
</li>
<li>
<p>See <a href="https://github.com/input-output-hk/hydra/releases/tag/0.12.0" target="_blank" rel="noopener noreferrer">full release notes</a> and a list of <a href="https://github.com/input-output-hk/hydra/milestone/12?closed=1" target="_blank" rel="noopener noreferrer">delivered features</a></p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a href="#development" class="hash-link" aria-label="Direct link to Development" title="Direct link to Development">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2023-07-28..2023-08-29" target="_blank" rel="noopener noreferrer">Issues and pull requests closed since the last
report</a></p>
<p>This month, the team worked on the following:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="update-the-tutorial-and-include-mithril-997">Update the tutorial and include Mithril <a href="https://github.com/input-output-hk/hydra/issues/997" target="_blank" rel="noopener noreferrer">#997</a><a href="#update-the-tutorial-and-include-mithril-997" class="hash-link" aria-label="Direct link to update-the-tutorial-and-include-mithril-997" title="Direct link to update-the-tutorial-and-include-mithril-997">‚Äã</a></h4>
<p>To prepare for the Hydra master class at RareEvo, the team has taken the
originally written tutorial for Hydra version 0.8.0 and updated it to work with the latest
versions.</p>
<p>The challenge was to write content that is both easily comprehensible and functional across a wide
range of user platforms, including operating system and processor architectures.</p>
<p>Besides writing the tutorial, it is essential to ensure that it is kept
up-to-date (eg, using continuous integration).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="support-cardano-node-812-1007">Support cardano-node 8.1.2 <a href="https://github.com/input-output-hk/hydra/issues/1007" target="_blank" rel="noopener noreferrer">#1007</a><a href="#support-cardano-node-812-1007" class="hash-link" aria-label="Direct link to support-cardano-node-812-1007" title="Direct link to support-cardano-node-812-1007">‚Äã</a></h4>
<p>To be able to use the latest Mithril snapshots to bootstrap a
<code>cardano-node</code> for the <code>hydra-node</code>, we needed to make some updates.</p>
<p>The <code>hydra-node</code> uses the <code>cardano-api</code> to establish a connection with the node using the node-to-client protocols. The format there has slightly changed (although versioned), necessitating an update to the version of <code>cardano-api</code> used within the <code>hydra-node</code>.</p>
<p>The way Haskell dependencies are managed required an adjustment of the versions for both <code>cardano-ledger</code> and <code>plutus</code>. These versions are used to construct our off-chain ledger and on-chain Hydra Head protocol scripts, respectively.</p>
<p>As a result, this process has proven to be more intricate than it might initially sound. However, it has ultimately resulted in enhancements to the efficiency of our on-chain scripts.</p>
<p>TODO: how much?</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="event-sourced-persistence-913">Event-sourced persistence <a href="https://github.com/input-output-hk/hydra/issues/913" target="_blank" rel="noopener noreferrer">#913</a><a href="#event-sourced-persistence-913" class="hash-link" aria-label="Direct link to event-sourced-persistence-913" title="Direct link to event-sourced-persistence-913">‚Äã</a></h4>
<p>We want the hydra-node to be efficient in processing events to yield high
throughput on processing transactions off-chain.</p>
<p>Work done as part of <a href="https://github.com/input-output-hk/hydra/issues/186" target="_blank" rel="noopener noreferrer">#186</a>
has demonstrated that the primary bottleneck to faster transaction processing
inside the node was the state persistence logic, which simply overwrites the
full state with whatever new state has been produced.</p>
<p>For that reason, we changed the persistent state to a sequence of events
according to <a href="https://hydra.family/head-protocol/adr/24" target="_blank" rel="noopener noreferrer">ADR24</a>. Persistence is now done incrementally by saving
only the <code>StateChanged</code> deltas.</p>
<p>As a consequence, the first spike confirmed the following performance
improvements: master ~300ms ‚Üí spike ~6ms.</p>
<p>TODO: what are the numbers on master before/after?</p>
<p>Finally, this also opens up interesting possibilities for state observation in
clients.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-api-endpoints">New API endpoints<a href="#new-api-endpoints" class="hash-link" aria-label="Direct link to New API endpoints" title="Direct link to New API endpoints">‚Äã</a></h4>
<p>This release also includes several additions to the Hydra API. We added the
<a href="https://github.com/input-output-hk/hydra/pull/1001" target="_blank" rel="noopener noreferrer">/cardano-transaction
endpoint</a> to submit a
transaction to the layer 1 network. This feature improves developer experience as
Hydra clients do not need direct chain access (eg, connect to <code>cardano-node</code>)
to be able to submit transactions.</p>
<p>The other new <a href="https://github.com/input-output-hk/hydra/pull/989" target="_blank" rel="noopener noreferrer">/protocol-parameters
endpoint</a> serves the
currently configured protocol parameters used in <code>hydra-node</code>. This provides
more flexibility when creating transactions for the head on the client side and
avoids configuration or hard-coded values.</p>
<p>On top of this, we also included the hydra-node
<a href="https://github.com/input-output-hk/hydra/pull/985" target="_blank" rel="noopener noreferrer">version</a> inside of the
<code>Greetings</code> message. This is very useful for debugging purposes and detecting
possible version mismatches.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="removal-of-internal-commit-endpoint-1018">Removal of &#x27;internal commit&#x27; endpoint <a href="https://github.com/input-output-hk/hydra/pull/1018" target="_blank" rel="noopener noreferrer">#1018</a><a href="#removal-of-internal-commit-endpoint-1018" class="hash-link" aria-label="Direct link to removal-of-internal-commit-endpoint-1018" title="Direct link to removal-of-internal-commit-endpoint-1018">‚Äã</a></h4>
<p>In the previous release, we made an announcement regarding the deprecation of committing to the head through the websocket command. Subsequently, we have taken steps to eliminate this client command, which in turn resulted in the removal of the <em>fuel</em> markers that were previously used to mark the UTXO of the internal Hydra wallet meant for use in the Head.</p>
<p>This simplifies the setup needed to run the Head protocol and improves security
since users can directly commit funds from their wallets without sending them to
the Head operator beforehand.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-master-class-at-rareevo">Hydra master class at RareEvo<a href="#hydra-master-class-at-rareevo" class="hash-link" aria-label="Direct link to Hydra master class at RareEvo" title="Direct link to Hydra master class at RareEvo">‚Äã</a></h4>
<p>We were happy to run a Hydra master class session at RareEvo 2023. The session
attracted 30+ attendees for the introductory parts including a presentation on
Hydra and Mithril. About 10-15 participants remained for the practical part and
following discussion.</p>
<p>We also streamed the event live on Discord, but were not able to interact much
there. The responses were positive though and we should be doing more things in
the public on this #hydra-live channel.</p>
<p>Several participants managed to use Mithril and synchronize a pre-production cardano-node; two teams effectively initiated Hydra heads, conducted fund transactions within them, and subsequently closed them. The major challenges, as expected, concerned installation and networking. In the future, we intend to ensure the availability of prebuilt binaries catering to a wider range of platforms.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="catalyst-fund10">Catalyst Fund10<a href="#catalyst-fund10" class="hash-link" aria-label="Direct link to Catalyst Fund10" title="Direct link to Catalyst Fund10">‚Äã</a></h4>
<p>The team screened all the proposals mentioning Hydra and
<a href="https://mithril.network/doc/" target="_blank" rel="noopener noreferrer">Mithril</a>. We submitted 11 community reviews and
noticed, in particular, the following proposals:</p>
<ul>
<li><a href="https://cardano.ideascale.com/c/idea/102138" target="_blank" rel="noopener noreferrer">Sundae Labs Hydra Ledger-only Mode</a></li>
<li><a href="https://cardano.ideascale.com/c/idea/102200" target="_blank" rel="noopener noreferrer">Sundae Labs Hydra Transaction Stream Plugin</a></li>
<li><a href="https://cardano.ideascale.com/c/idea/101626" target="_blank" rel="noopener noreferrer">Hydra as a B2B layer for DeFi - a white paper and an MVP</a></li>
<li><a href="https://cardano.ideascale.com/c/idea/104411" target="_blank" rel="noopener noreferrer">Decentralized Demeter.run - Federated Frontend Hosting - New revenue stream for SPOs</a></li>
<li><a href="https://cardano.ideascale.com/c/idea/105113" target="_blank" rel="noopener noreferrer">Mithril - Open-source contributor</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>The monthly review meeting for August 2023 was held on 2023-08-23 via Google
Meet with these <a href="https://docs.google.com/presentation/d/1MrCeUsYb3FQk7aCwMZdQs8mc5BfLOIjkK9gcWzgDdDc/edit#slide=id.g1f87a7454a5_0_1392" target="_blank" rel="noopener noreferrer">slides</a> and the <a href="https://drive.google.com/file/d/14pDsf0hDyh9HK8sCSMmkmT8gY8YxgOQ8/view" target="_blank" rel="noopener noreferrer">recording</a>, &#x27;broadcasting live from warm and sunny Colorado&#x27;!</p>
<p>It has been an interesting and unusual month. Some of the team had been in
Longmont, CO to prepare for the RareEvo event and we used the chance to have the
meeting in a hybrid setting with some IO stakeholders attending live on-site and
about 20 community members online.</p>
<p>This time, the demo was about the updated tutorial and demonstrating the full
setup of the cardano-node, opening a Hydra head on the pre-production network, and submitting
transactions off-chain in 15 minutes!</p>
<p>The feedback we received included inquiries about the timing, method, and extent of the audit for the Head protocol. While we will have an internal audit, which is already
helping us improve the protocol, there are no plans for a significant external audit with funding. We also had the chance to look into and learn about some Catalyst Fund10
proposals involving Hydra. Hopefully, some or all of them get funded and we are
looking forward to testing the Hydrazoa concept, implementing the ledger-mode operation, enabling federated Heads, and achieving other objectives.</p>
<p>At the RareEvo event, we had the chance to meet and communicate with various people
from the community. This ranges from known Hydra collaborators to tech-savvy
stake pool operators, to representatives of successful applications running on
Cardano for scaling purposes like <a href="https://book.io/" target="_blank" rel="noopener noreferrer">book.io</a>.</p>
<p>Also with a new full-time contributor on board, we are keen to add more
functionality while the first applications prepare to utilize Hydra in production
on mainnet.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This report summarizes the work on Hydra since June 2023. It serves as"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/monthly/2023-07">July 2023</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-31T15:09:18.000Z" itemprop="datePublished">July 31, 2023</time> ¬∑ <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/abailly-iohk" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/abailly-iohk.png" alt="Arnaud Bailly" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/abailly-iohk" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Arnaud Bailly</span></a></div><small class="avatar__subtitle" itemprop="description">Lead Architect</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/v0d1ch.png" alt="Sasha Bogicevic" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sasha Bogicevic</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This report summarizes the work on Hydra since June 2023. It serves as
preparation for the monthly review meeting (see <a href="https://docs.google.com/presentation/d/1CQYAFztRcqofN6sbowg37QuXQ-DQU4NcDmoMghS36B8" target="_blank" rel="noopener noreferrer">slides</a> and
<a href="https://drive.google.com/file/d/14ANZ3efuxgXpYK94EBWxZLR9TtN7voru/" target="_blank" rel="noopener noreferrer">recording</a>), where the team updates project stakeholders on recent
developments to gather their feedback on proposed plans.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="starmap-update">Starmap update<a href="#starmap-update" class="hash-link" aria-label="Direct link to Starmap update" title="Direct link to Starmap update">‚Äã</a></h3>
<p>Every couple of months, the team reflects on the themes identified for 2023 (as
presented in <a href="/monthly/2023-01#themes-for-2023">January</a>), and creates a high
level list of possible deliverables,
eg using <a href="/assets/files/2022-11-impact-97ad611fd8b3395a70498f12d26703de.png" target="_blank">impact maps</a>. This time, the team has come up
with the following items:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/2023-07-starmap-6362d6f36ed51d70e68fa77b1dd39bf9.png" width="1676" height="931" class="img_ev3q"></p>
<ul>
<li>
<p>Sustainable open-source <!-- -->üíö</p>
<ul>
<li>
<p><strong>Hydra master-class workshop</strong>: A concrete session we aim to conduct in an
upcoming event or online as a fallback. This will also be a motivation to
update our existing tutorials and improve the first-start
experience.</p>
</li>
<li>
<p><strong>Engage and support developer community on Catalyst proposals</strong>: There are
around 30 proposals mentioning Hydra in the current Catalyst funding round
and we want to review, comment, try to align, and maybe even promote some
proposals. The goal is to provide a platform for many new ideas while avoiding fragmentation and maximizing the reuse of work.</p>
</li>
<li>
<p><strong>Further open up GitHub repositories</strong>: We want to provide a welcoming
experience to non-IOG contributors and provide an easy-to-navigate group of
repositories relating to Hydra.</p>
</li>
</ul>
</li>
<li>
<p>Mainnet mature application <!-- -->üíú</p>
<ul>
<li>
<p><strong>Make Hydra trivial to use</strong>: To enhance user and developer experience, we aim to enable a quick and frictionless setup of Hydra, possibly involving Mithril to get started. Our goal is to facilitate the opening of a distributed Hydra head with two nodes on a testnet within just a few minutes.</p>
</li>
<li>
<p><strong>Build a basic head explorer</strong>: We have previously experimented with the explorer, and now we are looking to set it up for the long term. The goal is not only to assess Hydra adoption but also to provide a valuable tool for DApp developers. Additionally, we aim to create a visualization that end users can use to answer important questions, such as &#x27;who is running this head?&#x27;</p>
</li>
</ul>
</li>
<li>
<p>Drive adoption <!-- -->üíô</p>
<ul>
<li>
<p><strong>Deliver the first version of HydraNow to mainnet</strong>:
It&#x27;s important that the very promising use case of payments using
Hydra is made available to first users on mainnet. As a concrete example, this would be
a mobile application &#x27;HydraNow&#x27;, which uses a <code>hydra-pay</code> service to enable
peer-to-peer payment channels.</p>
</li>
<li>
<p><strong>Enable uni-directional payment channels</strong>: This will expand the
capabilities of any payment channel created using Hydra, allowing deposits and
withdrawals while keeping the head open.</p>
</li>
</ul>
</li>
</ul>
<p>Work packages related to these items appear on the technical
roadmap (especially <a href="https://github.com/orgs/input-output-hk/projects/21/views/26" target="_blank" rel="noopener noreferrer">in this view</a>) and in our community activities.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">‚Äã</a></h2>
<p>This month, the team released version 0.11.0, which shifts the way Hydra clients
need to interact with the hydra-node when committing funds. The project
<a href="https://github.com/orgs/input-output-hk/projects/21" target="_blank" rel="noopener noreferrer">roadmap</a> was also updated
to reflect the latest developments and ideas from the starmap:</p>
<p><img decoding="async" loading="lazy" alt="The roadmap without idea items" src="/assets/images/2023-07-roadmap-ex-ideas-f40d1c16b8ce755d0bc83b342c86bc8a.png" width="1938" height="1055" class="img_ev3q"> <small><center>The roadmap without idea items</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="release-0110">Release 0.11.0<a href="#release-0110" class="hash-link" aria-label="Direct link to Release 0.11.0" title="Direct link to Release 0.11.0">‚Äã</a></h4>
<ul>
<li>
<p>Completes the layer 2 ledger isomorphism with timed transaction support</p>
</li>
<li>
<p>Adds commit from external wallets API, which allows to:</p>
<ul>
<li>Commit multiple UTXO</li>
<li>Commit from scripts</li>
<li>Commit directly from any key</li>
</ul>
</li>
<li>
<p>Deprecated: Internal commits via the WebSocket API</p>
</li>
<li>
<p>See <a href="https://github.com/input-output-hk/hydra/releases/tag/0.11.0" target="_blank" rel="noopener noreferrer">full release notes</a> and a list of <a href="https://github.com/input-output-hk/hydra/milestone/11?closed=1" target="_blank" rel="noopener noreferrer">delivered features</a></p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notable-updates">Notable updates<a href="#notable-updates" class="hash-link" aria-label="Direct link to Notable updates" title="Direct link to Notable updates">‚Äã</a></h4>
<ul>
<li>
<p>Two new items _<em>elevated</em> from user ideas and improved the API capabilities:</p>
<ul>
<li>The <a href="https://github.com/input-output-hk/hydra/issues/735" target="_blank" rel="noopener noreferrer">ability to read protocol parameters via API #735</a></li>
<li>The ability to<a href="https://github.com/input-output-hk/hydra/issues/966" target="_blank" rel="noopener noreferrer">submit layer 1 transactions through hydra-node #966</a></li>
</ul>
</li>
<li>
<p>[Removing commit from internal wallet #954](Submit layer 1 transactions through
hydra-node#954) is a consequence of deprecating this functionality in the
previous 0.11.0 release. This will make the code base and documentation
cleaner as there will be only one way to commit funds to a head.</p>
</li>
<li>
<p>The first new item derived from the starmap is to <a href="https://github.com/input-output-hk/hydra/issues/997" target="_blank" rel="noopener noreferrer">Update tutorial and include
Mithril #997</a>. The
tutorial is already a bit outdated, this will slim it down and incorporate
Mithril to get the fastest (secure) bootstrap possible of a <code>hydra-node</code>.</p>
</li>
<li>
<p>As a result of focusing on the very concrete use case of payments for mainnet
deployment (and hence 1.0.0 release), multiple items need to (and can) get
reprioritized to match the requirements of this use case.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="The latest roadmap with features and ideas" src="/assets/images/2023-07-roadmap-389d8b69815010e9969b224281b64e30.png" width="2916" height="1212" class="img_ev3q"> <small><center>The latest roadmap with features and ideas</center></small></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a href="#development" class="hash-link" aria-label="Direct link to Development" title="Direct link to Development">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2023-06-22..2023-07-28" target="_blank" rel="noopener noreferrer">Issues and pull requests closed since last report</a></p>
<p>This month, the team worked on the following:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="authenticate-network-messages-727">Authenticate network messages <a href="https://github.com/input-output-hk/hydra/issues/727" target="_blank" rel="noopener noreferrer">#727</a><a href="#authenticate-network-messages-727" class="hash-link" aria-label="Direct link to authenticate-network-messages-727" title="Direct link to authenticate-network-messages-727">‚Äã</a></h4>
<p>The Hydra Head protocol paper states:</p>
<blockquote>
<p>Each party then establishes pairwise authenticated channels to all other parties.</p>
</blockquote>
<p><a href="https://eprint.iacr.org/2020/299.pdf" target="_blank" rel="noopener noreferrer">Hydra: Fast Isomorphic State Channels, p.14</a></p>
<p>Guaranteeing the authenticity and integrity of the messages received from one&#x27;s peers is critical to the security of the Head protocol. Initially, we considered deferring this responsibility to the transport layer, for example, leaving it to Hydra node operators to use TLS or other encrypted channels to communicate with their peers. However, this introduced an additional and unnecessary operational burden on operators.</p>
<p>It appeared simple enough to reuse the existing Hydra keys (using Ed25519
curve), which need to be passed to the node, to:</p>
<ul>
<li><em>sign</em> all messages sent to peers</li>
<li><em>verify</em> all messages received from peers</li>
</ul>
<p>The net benefit of this feature is to increase the life expectancy of a head,
preventing some forms of <em>denial of service</em> attacks or wrongly configured nodes
that would lead to a <em>stalled head</em>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reqsn-only-sends-transaction-ids-728">ReqSn only sends transaction IDs <a href="https://github.com/input-output-hk/hydra/issues/728" target="_blank" rel="noopener noreferrer">#728</a><a href="#reqsn-only-sends-transaction-ids-728" class="hash-link" aria-label="Direct link to reqsn-only-sends-transaction-ids-728" title="Direct link to reqsn-only-sends-transaction-ids-728">‚Äã</a></h4>
<p>This feature aligns the current implementation better with the original paper, as it requests snapshots using only the transaction identifiers, rather than the full transactions.</p>
<p>The motivation to implement this feature came from different directions:</p>
<ul>
<li>Improve the performance of the protocol by reducing bandwidth usage</li>
<li>Make it possible to have &#x27;atomic&#x27; transaction sets submitted
(<a href="https://github.com/input-output-hk/hydra/issues/900" target="_blank" rel="noopener noreferrer">#900</a>),</li>
<li>Prevent &#x27;front-running&#x27; from the current leader which, in the previous
implementation, could inject arbitrary (but valid) transactions that peers had
never seen before into a snapshot.</li>
</ul>
<p><code>ReqSn</code>&#x27;s snapshots now contain only the list of transaction IDs and each
hydra-node validates the snapshot by resolving those ideas against the set of
transactions they have seen (through <code>ReqTx</code>). A consequence is that this
introduces the possibility of space leak in the event a submitted valid
transaction never gets included in a snapshot, but this should not be
a problem in practice.</p>
<p>Note that the
<a href="https://hydra.family/head-protocol/core-concepts/specification" target="_blank" rel="noopener noreferrer">specification</a>
has been updated to reflect this change.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="github-security-advisories">GitHub security advisories<a href="#github-security-advisories" class="hash-link" aria-label="Direct link to GitHub security advisories" title="Direct link to GitHub security advisories">‚Äã</a></h4>
<p>There was a bug in the multi-signature verification which could compromise
off-chain security of a Hydra Head protocol. Although the fix was quite simple, we
decided to use a new GitHub feature to create the first <a href="https://github.com/input-output-hk/hydra/security/advisories/GHSA-c8qp-cv4h-vcc4" target="_blank" rel="noopener noreferrer">GitHub security
advisory</a>
for Hydra.</p>
<p>The process creates a separate GitHub repository where potential security issues
could be discussed privately (between the reporter and the maintainers) since
potential attackers should not be aware of any issues until they are fixed. The
team scored this issue using CVSS (The Common Vulnerability Scoring System), the
score was moderate (5.5), and they didn&#x27;t request a CVE (Common Vulnerabilities
and Exposures) for this (yet).</p>
<p>The process overall works well, but Hydra CI is not checking the builds in these
private, one-off forks so there is a risk of merging code that doesn&#x27;t compile.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="moving-to-ghc-927-841">Moving to GHC 9.2.7 <a href="https://github.com/input-output-hk/hydra/pull/841" target="_blank" rel="noopener noreferrer">#841</a><a href="#moving-to-ghc-927-841" class="hash-link" aria-label="Direct link to moving-to-ghc-927-841" title="Direct link to moving-to-ghc-927-841">‚Äã</a></h4>
<p>GHC 9.2 series have been around for more than a year and the whole Cardano ecosystem is gradually moving to use this new compiler version. Moreover, GHC 8.10.7 does not work reliably on aarch64 architectures, eg Mac M1/M2.</p>
<p>Moving to this new version entailed some significant changes in the code and also in the Plutus scripts:</p>
<table><thead><tr><th>Name</th><th>After (bytes)</th><th>Before (bytes)</th><th>Œîsize</th></tr></thead><tbody><tr><td>ŒΩInitial</td><td>4289</td><td>4621</td><td>- 7%</td></tr><tr><td>ŒΩCommit</td><td>2124</td><td>2422</td><td>- 12%</td></tr><tr><td>ŒΩHead</td><td>9185</td><td>8954</td><td>+ 3%</td></tr><tr><td>ŒºHead</td><td>4149</td><td>4458</td><td>-7%</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-master-class">Hydra master-class<a href="#hydra-master-class" class="hash-link" aria-label="Direct link to Hydra master-class" title="Direct link to Hydra master-class">‚Äã</a></h3>
<p>As already mentioned above in our starmap update, we aim to have an educational session at the upcoming Rare Evo event:</p>
<blockquote>
<p>Whether you are building decentralized applications which need to be fast and scale well, or you are creating infrastructure for other builders on Cardano, we will show you how to use Hydra to make your applications and platforms utilize fast off-chain transaction processing via the Hydra Head protocol.</p>
<p>In this session you will learn what Hydra is all about, how to build scalable applications in a live coding session, get to know the hydra-pay and hydra-auction projects, and be guided through exercises to get your hands on these APIs and early SDKs.</p>
</blockquote>
<p>We are currently putting together a detailed outline and will send out
communications on how to register for this exclusive session within the next 1-2
weeks. Stay tuned.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>The monthly review meeting for May was held on 2023-07-26 via Google Meet with
these <a href="https://docs.google.com/presentation/d/1CQYAFztRcqofN6sbowg37QuXQ-DQU4NcDmoMghS36B8" target="_blank" rel="noopener noreferrer">slides</a> and here is the <a href="https://drive.google.com/file/d/14ANZ3efuxgXpYK94EBWxZLR9TtN7voru/" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<p>Although we had planned an awesome demo for this month&#x27;s review meeting, showcasing a Hydra head hack without the authenticated messages feature, we encountered some live demo problems (lesson learned: always record a backup!). While we might present it next time, this situation emphasizes the need for continuous improvement in developer and user experiences.</p>
<p>We haven&#x27;t received many questions on our journey to further mature the Hydra software stack to support various use cases building on it. However, the recently kicked-off Catalyst Fund10 sparked a nice discussion on how to handle all these great new ideas while being mindful not to fragment the scaling efforts too much.</p>
<p>Open protocols mean that new ideas can be incorporated not only into the various
code bases, but also in the specification and standards which ensure
interoperability. We discussed means to ensure adherence to standards in a
light-weight agile way and the challenges of educating potential contributors in
specification-driven development.</p>
<p>Next month we&#x27;ll be at RareEvo, but might have the monthly just before in a
hybrid session from Colorado. Until then, we&#x27;ll make Hydra trivial to use and
get started on our new objectives.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This report summarizes the work on Hydra since May 2023. It serves as"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/monthly/2023-06">June 2023</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-06-27T07:53:28.000Z" itemprop="datePublished">June 27, 2023</time> ¬∑ <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/v0d1ch.png" alt="Sasha Bogicevic" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/v0d1ch" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sasha Bogicevic</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This report summarizes the work on Hydra since May 2023. It serves as
preparation for the monthly review meeting (see <a href="https://docs.google.com/presentation/d/1TVzjaFKXBi9DAugSd2L8MSUSZGIU9EjTmwf6yccckPI" target="_blank" rel="noopener noreferrer">slides</a> and
<a href="https://drive.google.com/file/d/1_N6b4RDe579TgLawiJzbE0NLofD3ljE6/view" target="_blank" rel="noopener noreferrer">recording</a>), where the team updates project stakeholders on recent
developments to gather their feedback on proposed plans.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">‚Äã</a></h2>
<p>While there was no release this month, the team implemented several notable
features, which will be released soon as version 0.11.0:</p>
<p><img decoding="async" loading="lazy" alt="The roadmap without idea items" src="/assets/images/2023-06-roadmap-ex-ideas-9d500c027b6594ce2a53d6158c2146c7.png" width="2372" height="813" class="img_ev3q"> <small><center>The roadmap without idea items</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notable-roadmap-updates">Notable roadmap updates<a href="#notable-roadmap-updates" class="hash-link" aria-label="Direct link to Notable roadmap updates" title="Direct link to Notable roadmap updates">‚Äã</a></h4>
<ul>
<li>
<p>Realized <a href="https://github.com/input-output-hk/hydra/pull/774" target="_blank" rel="noopener noreferrer">allowing commit txs with multiple UTxO
#774</a> as a dedicated roadmap
item separate from the related <a href="https://github.com/input-output-hk/hydra/issues/215" target="_blank" rel="noopener noreferrer">commit from external wallet
#215</a> (which grew too
big).</p>
</li>
<li>
<p>Revisited <a href="https://github.com/input-output-hk/hydra/issues/186" target="_blank" rel="noopener noreferrer">off-chain performance by doing benchmarks
#186</a>. Identified a
bottleneck, groomed and planned a follow-up performance improvement feature
for <a href="https://github.com/input-output-hk/hydra/issues/913" target="_blank" rel="noopener noreferrer">Event sourced persistence&quot;
#913</a></p>
</li>
<li>
<p>Plan to release 0.11.0 without <a href="https://github.com/input-output-hk/hydra/issues/727" target="_blank" rel="noopener noreferrer">Authenticate network messages
#727</a> to deliver enabling
featues earlier.</p>
</li>
<li>
<p>API improvements and exploring batched transactions on L2 showed that <a href="https://github.com/input-output-hk/hydra/issues/728" target="_blank" rel="noopener noreferrer">ReqSN
only sends transaction IDs
#728</a> is in demand,
front-loads further API changes and is estimated to be a low-hanging fruit.</p>
</li>
<li>
<p>Reprioritized items in <code>&lt;= 1.0.0</code> column, to do items with on-chain protocol
impact earlier and not much feedback has been received on snapshotting items. In
fact, if <a href="https://github.com/input-output-hk/hydra/issues/190" target="_blank" rel="noopener noreferrer">Support larger # of UTXO via split-fanout
#190</a> is done slightly
differently, that should avoid some of the problems of impossible to finalize
snapshots.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="The latest roadmap with features and ideas" src="/assets/images/2023-06-roadmap-6dde45fc909764d6d33f6f1d88b19b23.png" width="3122" height="1082" class="img_ev3q"> <small><center>The latest roadmap with featuresand ideas</center></small></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a href="#development" class="hash-link" aria-label="Direct link to Development" title="Direct link to Development">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2023-05-24..2023-06-22" target="_blank" rel="noopener noreferrer">Issues and pull requests closed since last
report</a></p>
<p>This month, the team worked on the following:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="commits-with-multiple-utxo-774">Commits with multiple UTXO <a href="https://github.com/input-output-hk/hydra/pull/774" target="_blank" rel="noopener noreferrer">#774</a><a href="#commits-with-multiple-utxo-774" class="hash-link" aria-label="Direct link to commits-with-multiple-utxo-774" title="Direct link to commits-with-multiple-utxo-774">‚Äã</a></h4>
<p>One of the early adopting projects is exploring how to move scripts from layer 1
to layer 2. For that purpose, it was necessary to not only commit the actual
script UTXO, but also a &quot;regular&quot; UTXO holding only ada to be used as collateral
(the <code>cardano-ledger</code> always requires collateral although it would not be
necessary on a layer 2).</p>
<p>To enable this, the specification and on-chain protocol needed updating. Before
a protocol participant could commit zero or one UTXO, which changed now to a
list of UTXO. As the specification is now <a href="/monthly/2023-04#versioned-docs-and-specification">part of the
repository</a>, it could be kept
consistent within the same pull request.</p>
<p>Despite being a <strong>breaking change</strong>, leading to new Hydra script hashes to be
published and used starting with version 0.11.0, this change was suprisingly
easy to do and demonstrated the amenability of the Head protocol and the system
architecture.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="commits-from-external-wallet-215">Commits from external wallet <a href="https://github.com/input-output-hk/hydra/issues/215" target="_blank" rel="noopener noreferrer">#215</a><a href="#commits-from-external-wallet-215" class="hash-link" aria-label="Direct link to commits-from-external-wallet-215" title="Direct link to commits-from-external-wallet-215">‚Äã</a></h4>
<p>The team started to mark <em>fuel</em> some time ago as it was an easy workaround to
distinguish UTXOs that can be committed into a head apart from regular outputs
holding ada to pay for fees - the so-called <em>fuel</em>. However, this required users
to &quot;send funds&quot; they want to commit first to the <code>hydra-node</code>s internal wallet
and involved additional steps in tagging such outputs with a special datum hash</p>
<p>To commit from external wallets, a new API endpoint was introduced for the
purpose of <em>drafting</em> a commit transaction. The clients would request such draft
transaction by sending a POST request to <code>/commit</code> and the <code>hydra-node</code> would
respond with a transaction already authorized by the internal wallet. If the
commit involved user funds (empty commits are still possible), then the client
application would need to sign the transaction using the corresponding signing
key. Also, submitting this transaction has shifted from <code>hydra-node</code> to the
client.</p>
<p>This removes direct custody of <code>hydra-node</code> over user funds since clients can
now use whatever key they own, not known to the <code>hydra-node</code>, to do a commit
step and no single <code>hydra-node</code> has access to user funds used in the Head
protocol.</p>
<p>Within this work package, <em>marking fuel</em> became deprecated and all UTXOs owned
by the internal wallet are considered fuel. Fuel marking wil be completely
removed in the future. Furthermore, a good old HTTP-based API is now used
for the new query (so far it was only WebSocket-based), which prompts a
potential shift to using OpenAPI as API specification since AsyncAPI does not
describe synchronous requests well.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="benchmark-performance-of-hydra-head-186">Benchmark performance of Hydra Head <a href="https://github.com/input-output-hk/hydra/issues/215" target="_blank" rel="noopener noreferrer">#186</a><a href="#benchmark-performance-of-hydra-head-186" class="hash-link" aria-label="Direct link to benchmark-performance-of-hydra-head-186" title="Direct link to benchmark-performance-of-hydra-head-186">‚Äã</a></h4>
<p>Low confirmation time is a key feature of Hydra Head protocol and is
needed for some use cases. The existing end-to-end
benchmarks have been revived and tailored for a <em>baseline scenario</em>, one with a
single hydra-node and a single client. While this scenario is not
representative of target deployments, it&#x27;s interesting as it gives us
an upper bound on the performance of a Hydra Head network.</p>
<p>The results have been somewhat disappointing, and further investigations lead to a few insights:</p>
<ul>
<li>There was a misconfiguration in the RTS of the hydra-node executable
which was therefore not taking advantage of parallelism</li>
<li>We identified the main bottleneck to be persistence of the node&#x27;s
state, which is currently done by overwriting a single file with the
JSON content of the <em>full</em> state on <em>state change</em> which is pretty
inefficient. As a consequence, the team will work on improving the
persistence strategy as described in <a href="https://github.com/input-output-hk/hydra/pull/940" target="_blank" rel="noopener noreferrer">this
ADR</a></li>
<li>More benchmarks:<!-- -->
<ul>
<li>The aforementioned <a href="https://hydra.family/head-protocol/benchmarks/end-to-end-benchmarks" target="_blank" rel="noopener noreferrer">End-to-end benchmarks</a>,</li>
<li><a href="https://hydra.family/head-protocol/benchmarks/ledger" target="_blank" rel="noopener noreferrer">Ledger Micro-benchmarks</a> as a comparison basis.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="operating-hydra-nodes">Operating hydra nodes<a href="#operating-hydra-nodes" class="hash-link" aria-label="Direct link to Operating hydra nodes" title="Direct link to Operating hydra nodes">‚Äã</a></h4>
<p>As a &quot;dogfooding&quot; exercise, the Hydra team is operating a Hydra Head
on mainnet on top of which is running our <code>hydraw</code> application.
The Head protocol got stuck a couple of times and
post-mortem investigations lead to a few improvements in how to
operate a hydra-node and network:</p>
<ul>
<li>Better reporting on the version of executable <code>hydra-node</code> and
<code>hydra-tui</code> which now report the Git SHA1 at which they were built</li>
<li>Reduction in the volume of logs emitted by hydra-node by removing
some chatty network-related logs and using ids to link <code>Begin/End</code>
pairs</li>
<li>Rework the
<a href="https://github.com/input-output-hk/hydra/blob/35f2964ba6d4a780a5f8e669f1afce565a492cec/hydra-cluster/exe/log-filter/Main.hs#L34" target="_blank" rel="noopener noreferrer">log-filter</a>
tool to provide timings for various events and effects keyed by
transactions</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-hackathon--workshop">Hydra hackathon / workshop<a href="#hydra-hackathon--workshop" class="hash-link" aria-label="Direct link to Hydra hackathon / workshop" title="Direct link to Hydra hackathon / workshop">‚Äã</a></h4>
<p>The Hydra team is considering holding a workshop at/around Rare Evo at the end
of August and is in contact with the event teams at IOG and the Rare Evo
organizers. The concrete format, scope and agenda is still a bit unclear as we
are contemplating whether to do a workshop/tutorial style or rather a
introduction + challenge setting event. If it does not work out for Rare Evo, we
will find another event or do it ourselves.</p>
<p>If you are reading this and would be interested in joining such an event please
drop us a line on <a href="https://discord.gg/Qq5vNTg9PT" target="_blank" rel="noopener noreferrer">discord</a> or DM
<a href="https://twitter.com/ch1bo_" target="_blank" rel="noopener noreferrer">@ch1bo</a>! Ideally along with some thoughts on
preferred format or what you would be interested in.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-for-auctions-contributions-and-closing-of-project">Hydra for Auctions contributions and closing of project<a href="#hydra-for-auctions-contributions-and-closing-of-project" class="hash-link" aria-label="Direct link to Hydra for Auctions contributions and closing of project" title="Direct link to Hydra for Auctions contributions and closing of project">‚Äã</a></h4>
<p>One of the Hydra lighthouse projects is slowly coming to an end. The
collaboration project between IOG and MLabs on using Hydra for auctions is
currently finalizing documentation and creating demonstration running the whole
thing on a public testnet. Although the demo video was not available at the copy
deadline of this report, watch this space for more about this next
month.</p>
<p>The project yielded multiple github issues containing ideas and sparked great
discussions on improving Hydra like <a href="https://hydra.family/head-protocol/monthly/2023-05#hydrozoa-850" target="_blank" rel="noopener noreferrer">reported last
month</a>. It is
also the first project which demonstrates how to move smart contracts from the
layer 1 (L1) to the layer 2 (L2)! Overall it is a great example of establishing
crucial state on L1 and achieving scalability through Hydra as L2.</p>
<p>The code is fully open source and available on Github
<a href="https://github.com/mlabs-haskell/hydra-auction/" target="_blank" rel="noopener noreferrer">hydra-auction</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>The monthly review meeting for May was held on 2023-06-21 via Google Meet with
these <a href="https://docs.google.com/presentation/d/1TVzjaFKXBi9DAugSd2L8MSUSZGIU9EjTmwf6yccckPI" target="_blank" rel="noopener noreferrer">slides</a> and here is the <a href="https://drive.google.com/file/d/1_N6b4RDe579TgLawiJzbE0NLofD3ljE6/view" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<p>It was a fairly straight-forward month and consequently unexciting review meeting
this month. Unfortunately, we could not release 0.11.0 yet, but we wanted to get
the quite significant change of supporting commits from external wallets done
first. This feature in particular was more involved than expected, but as the
demonstration in the meeting showed, we are in the final stages of getting this
over the line.</p>
<p>Besides some nice findings to potential performance improvements for layer 2
transaction processing, there was not much to announce this time around. Behind
the scenes, however, there have been great progress on the Hydra for Payments
project and the next updates are going to be more interesting again.</p>
<p>Despite holiday season approaching, we will march on, steadily adding features
and enabling more and more use cases to scale through Hydra.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="This report summarizes the work on Hydra since April 2023. It serves as"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/monthly/2023-05">May 2023</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-30T14:30:18.000Z" itemprop="datePublished">May 30, 2023</time> ¬∑ <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ch1bo.png" alt="Sebastian Nagel" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ch1bo" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Sebastian Nagel</span></a></div><small class="avatar__subtitle" itemprop="description">Software Engineering Lead</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/pgrange" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/pgrange.png" alt="Pascal Grange" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/pgrange" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Pascal Grange</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ffakenz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/ffakenz.png" alt="Franco Testagrossa" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/ffakenz" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Franco Testagrossa</span></a></div><small class="avatar__subtitle" itemprop="description">Senior Software Engineer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This report summarizes the work on Hydra since April 2023. It serves as
preparation for the monthly review meeting (see <a href="https://docs.google.com/presentation/d/1anUC3Z1idloyR6uwiSHLZtV6-LQvUcByHPMUgCBOVIA" target="_blank" rel="noopener noreferrer">slides</a> and
<a href="https://drive.google.com/file/d/1_N6b4RDe579TgLawiJzbE0NLofD3ljE6/view" target="_blank" rel="noopener noreferrer">recording</a>), where the team updates project stakeholders on recent
developments to gather their feedback on proposed plans.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">‚Äã</a></h2>
<p>This month the team released version 0.10.0 which includes many important features.
The project <a href="https://github.com/orgs/input-output-hk/projects/21" target="_blank" rel="noopener noreferrer">roadmap</a> was
only slightly updated this month and already saw one more feature completed:</p>
<p><img decoding="async" loading="lazy" alt="The roadmap without idea items" src="/assets/images/2023-05-roadmap-ex-ideas-190169ec27dae76ae437be73558443c0.png" width="2133" height="752" class="img_ev3q">
<small><center>The roadmap without idea items</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="release-0100">Release 0.10.0<a href="#release-0100" class="hash-link" aria-label="Direct link to Release 0.10.0" title="Direct link to Release 0.10.0">‚Äã</a></h4>
<ul>
<li>
<p>First mainnet compatible release of <code>hydra-node</code> including technical changes and documentation</p>
</li>
<li>
<p>Mainnet exposure currently limited to 100‚Ç≥ per participant</p>
</li>
<li>
<p>Added some missing features to the client API (short-term solutions)</p>
</li>
<li>
<p>Some quality of life improvements in running the <code>hydra-node</code></p>
</li>
<li>
<p><a href="https://github.com/input-output-hk/hydra/releases/tag/0.10.0" target="_blank" rel="noopener noreferrer">Full release notes</a> and a list of <a href="https://github.com/input-output-hk/hydra/milestone/8?closed=1" target="_blank" rel="noopener noreferrer">delivered features</a></p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notable-roadmap-updates">Notable roadmap updates<a href="#notable-roadmap-updates" class="hash-link" aria-label="Direct link to Notable roadmap updates" title="Direct link to Notable roadmap updates">‚Äã</a></h4>
<ul>
<li>
<p>Got new input and a concrete scenario for benchmarking (off-chain) performance
of a Hydra head. As it is a very basic one, we moved the item from an
idea to a feature and started work on it.</p>
</li>
<li>
<p>Added a new feature item to add Hydra as a tool to developer platforms within
our agenda of <a href="https://hydra.family/head-protocol/monthly/2023-01#themes-for-2023" target="_blank" rel="noopener noreferrer">promoting Hydra as an open-source
platform</a>
for scalability on Cardano.</p>
</li>
<li>
<p>Already completed a first feature for 0.11.0 and considering whether to release it as
early as possible with latest advances.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="The latest roadmap with features and ideas" src="/assets/images/2023-05-roadmap-a6eb7e109a1fe9a3beff03ac1824762b.png" width="2421" height="1112" class="img_ev3q"> <small><center>The latest roadmap with features and ideas</center></small></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a href="#development" class="hash-link" aria-label="Direct link to Development" title="Direct link to Development">‚Äã</a></h2>
<p><a href="https://github.com/input-output-hk/hydra/issues?q=is%3Aclosed+sort%3Aupdated-desc+closed%3A2023-04-26..2023-05-24" target="_blank" rel="noopener noreferrer">Issues and pull requests closed since last
report</a></p>
<p>This month, the team worked on the following:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="timed-transactions-196">Timed transactions <a href="https://github.com/input-output-hk/hydra/issues/196#" target="_blank" rel="noopener noreferrer">#196</a><a href="#timed-transactions-196" class="hash-link" aria-label="Direct link to timed-transactions-196" title="Direct link to timed-transactions-196">‚Äã</a></h4>
<p>To realize the Hydra Head protocol, a <code>hydra-node</code> observes and follows the
chain progress on the layer 1 (L1). Until now, this component was only observing
protocol related transactions. Now, on every block roll forward, a <code>Tick</code> event
carrying the notion of time from L1 is observed by the <code>hydra-node</code> and is used
to validate transactions in a Hydra head. This means that clients can submit
time bounded transactions to an open head and expect them to be validated using
the same slot that would be used on L1. It is important to mention that time
only advances on L1 when a block is produced.</p>
<p><img decoding="async" loading="lazy" alt="Timed transactions in a Hydra Head state channel" src="/assets/images/2023-05-timed-transactions-a2a620ded97818a461ae1a1a3caa3388.jpg" width="1609" height="970" class="img_ev3q"> <small><center>Timed transactions in a Hydra Head state channel</center></small></p>
<p>This feature will make the Hydra L2 ledger now en-par with UTXO features
available on the Cardano L1. A logical next step in this direction could be to
make time in the state channel advance every configured <code>slotLength</code> (e.g. every
second) using the system clock in between blocks as a form of <a href="https://en.wikipedia.org/wiki/Dead_reckoning" target="_blank" rel="noopener noreferrer">dead reckoning</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="removing---ledger-genesis-863">Removing --ledger-genesis <a href="https://github.com/input-output-hk/hydra/pull/863" target="_blank" rel="noopener noreferrer">#863</a><a href="#removing---ledger-genesis-863" class="hash-link" aria-label="Direct link to removing---ledger-genesis-863" title="Direct link to removing---ledger-genesis-863">‚Äã</a></h4>
<p>The hydra-node had two command line options to configure the ledger used for validating layer 2 (L2) transactions: <code>--ledger-protocol-parameters</code> and <code>--ledger-genesis</code>. The former option, which is self-explanatory, allows configuration of the Cardano protocol parameters to be used. Often, the same parameters as those on L1 are configured, or similar parameters with reduced fees, for example. On the other hand, the second option required the <code>genesis-shelley.json</code> file previously used to initialize the Shelley era by the cardano-node.</p>
<p>When we started using the current slot in the L2 ledger (see above), we realized
that only the start time and slot length are effectively used from that
configuration file. Moreover, it would be quite surprising if those were
different and slots would be longer or shorter on L2 (unless explicitly
configured). We opted to remove the option altogether and have the <code>hydra-node</code>
fetch the genesis parameters from the Cardano network. This makes the system
easier to configure and more isomorphic to L1.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="improving-ci-runtime">Improving CI runtime<a href="#improving-ci-runtime" class="hash-link" aria-label="Direct link to Improving CI runtime" title="Direct link to Improving CI runtime">‚Äã</a></h4>
<p>The Hydra project <a href="https://hydra.family/head-protocol/adr/12" target="_blank" rel="noopener noreferrer">embraces Test Driven Development</a> and implements
<a href="https://github.com/input-output-hk/hydra/actions/workflows/ci-nix.yaml" target="_blank" rel="noopener noreferrer">Continuous
Integration</a>
(CI), checking all these tests pass and more.</p>
<p>The CI could sometimes take as long as an hour or
more to run, which has a negative impact on the project&#x27;s workflow.
For instance, all the project&#x27;s branches have to be <a href="https://github.com/input-output-hk/hydra/wiki/Coding-Standards#merge-prs-with-merge-commits-and-rebase-branches-on-top-of-master" target="_blank" rel="noopener noreferrer">fast-forward with
master</a>
before being merged.
So if all the tests on a branch are green and the pull request has been
approved but is lagging a bit behind master, it has to be rebased, so the
CI has to run again, incurring a one hour or so delay in this case before
being able to merge it. The situation becomes worse when several pull requests
are <em>ready</em> to be merged.</p>
<p>Analyzing the run from <a href="https://github.com/input-output-hk/hydra/actions/runs/4933005294" target="_blank" rel="noopener noreferrer">May, 10th</a>
we can see that:</p>
<ul>
<li>Building and testing takes 19 minutes for the longest</li>
<li>Generating haddock documentation and running the benchmarks takes 28 minutes
for the longest</li>
<li>Documentation (which will need artifacts generated in previous steps) will take
14 minutes</li>
<li>In total, this run took 1 hour and 16 minutes.</li>
</ul>
<p>Let&#x27;s focus on the build and the testing stage first. We&#x27;re expecting the
plutus-merkle-tree to run fast but <a href="https://github.com/input-output-hk/hydra/actions/runs/4933005294/jobs/8816564512" target="_blank" rel="noopener noreferrer">it took 8 minutes and 52
seconds</a>
, 7m and 11 seconds being spent setting up the build environment.
In other words, 81% of the build time is downloading binary dependencies from some nix cache.</p>
<p>Compiling the code requires cabal and other nix dependencies that will trigger
massive downloads. Instead, let&#x27;s, straight on, run the tests with nix and let
nix decide what needs to be compiled. Sometimes, most of the code will not have
changed and the test binary will already be available in some nix cache to be run
without any compilation step.</p>
<p>This has been done in <a href="https://github.com/input-output-hk/hydra/pull/867" target="_blank" rel="noopener noreferrer">#867</a>.
Merging this PR, the <a href="https://github.com/input-output-hk/hydra/actions/runs/5003046049" target="_blank" rel="noopener noreferrer">build on master took 45
minutes</a> and,
specifically, the same <a href="https://github.com/input-output-hk/hydra/actions/runs/5003046049/jobs/8963773583" target="_blank" rel="noopener noreferrer">plutus-merkle-tree
job</a>
only took 1 minute and 44 seconds, only 20% of the time observed before.</p>
<p>Then, let&#x27;s focus on documentation (14 minutes). Most of the time spent by this
process is website optimization. It makes sense for the documentation that will
actually be published on the website (master or release). But what about all
the builds in branches for which the website will never be published?
We need to keep this documentation step in branches because it gives us sanity
checks, preventing broken links, for instance. But we can definitely remove the
optimization step.</p>
<p>This has been done in <a href="https://github.com/input-output-hk/hydra/pull/880" target="_blank" rel="noopener noreferrer">#880</a>
and it <a href="https://github.com/input-output-hk/hydra/actions/runs/5067084637/jobs/9098252031" target="_blank" rel="noopener noreferrer">saves 10 minutes</a>
from this step.</p>
<p>Our first goal was to reduce CI execution time when pushing
on branches and this has been improved. We&#x27;re now having execution time
significantly under 30 minutes where it used to be 45 minutes or even an hour.</p>
<p>We had some issues with compilation output, obfuscated by nix, which have been
solved by <a href="https://github.com/input-output-hk/hydra/pull/889" target="_blank" rel="noopener noreferrer">#889</a>.</p>
<p>Every morning, we rebuild our master branch and we can observe the whole
execution time on the following graph (in seconds):</p>
<p><img decoding="async" loading="lazy" alt="CI perf" src="/assets/images/2023-05-ci-perf-6f40f4793f448feae776a3e87c1c4d59.png" width="1942" height="1142" class="img_ev3q"> <small><center>C.I. execution total execution time</center></small></p>
<p>Although we observed performance improvements on branches CI execution time,
master execution time has not been reduced that much. We may save 10 minutes
from the documentation step because optimizing the <em>unstable</em> documentation is
maybe not worthwhile.
But what&#x27;s more problematic here is the process variability.</p>
<p>This variability can be explained by nix cache misses. That&#x27;s something we need
to investigate. It&#x27;s hard to optimize a process with buffers, especially here
where in case of a cache miss, recompilation has to happen and takes time.
So every cache miss introduces several minutes of overhead which explains why we
observe so much variation between two days with this master execution time.</p>
<p>Next steps:</p>
<ul>
<li>Inspect why we have an unexpected random cache miss</li>
<li>Improve haddock generation time (15 minutes)</li>
<li>Reduce bench time (we probably don&#x27;t want to run the whole benchmark suite for
every single commit, or a smaller one)</li>
<li>Focus on the changed area (do not compile everything to generate the monthly
report)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hydrozoa-850">Hydrozoa <a href="https://github.com/input-output-hk/hydra/discussions/850" target="_blank" rel="noopener noreferrer">#850</a><a href="#hydrozoa-850" class="hash-link" aria-label="Direct link to hydrozoa-850" title="Direct link to hydrozoa-850">‚Äã</a></h4>
<p>This month, the project saw a new kind of contribution from the community.
@GeorgeFlerovsky has written a research piece about an adaptation of the
(Coordinated) Hydra Head protocol into a new flavor - Hydrozoa. The article is
currently being examined and <a href="https://github.com/input-output-hk/hydra/discussions/850" target="_blank" rel="noopener noreferrer">discussed on
GitHub</a>. Feedback so
far has been positive. Of course, one does not simply change the Hydra Head
protocol (pun intended), but the ideas contained could drive evolution and
be followed up with concrete protocol extensions. Very much like the ideas
presented in the original paper.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hydra-for-payments-project-update">Hydra for Payments project update<a href="#hydra-for-payments-project-update" class="hash-link" aria-label="Direct link to Hydra for Payments project update" title="Direct link to Hydra for Payments project update">‚Äã</a></h4>
<p>In this collaborative effort between IOG and ObsidianSystems, we are pushing the
frontiers of using Hydra in payment use cases. It will lower the entry barrier
for developers and ultimately users to leverage Hydra L2 for sending
and receiving ada and Cardano native assets with very low fees and sub-second
finality.</p>
<p>The project is in its second phase where the open-source
<a href="https://github.com/obsidiansystems/hydra-pay" target="_blank" rel="noopener noreferrer">hydra-pay</a> library is being
expanded with necessary features while the team pushes for building a
dedicated mobile application.</p>
<p>With the recently released hydra-pay version
<a href="https://github.com/obsidiansystems/hydra-pay/releases/tag/v0.2.0" target="_blank" rel="noopener noreferrer">0.2.0</a>, an
end-to-end workflow of the Android App nicknamed &quot;HydraNow&quot; can be realized.
This app will act as a layer 2 wallet quite like a Bitcoin Lightning Wallet and
drives feature development in both <code>hydra-pay</code> and <code>hydra</code> in the background.</p>
<p><img decoding="async" loading="lazy" alt="Two instances of HydraNow (in browser) connected via a hydra-pay channel" src="/assets/images/2023-05-hydra-now-a33a097233ff47e7cf2ccfc064abdd7f.png" width="3216" height="1572" class="img_ev3q"> <small><center>Two instances of HydraNow (in browser) connected via a hydra-pay channel</center></small></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="spanish-translation">Spanish translation<a href="#spanish-translation" class="hash-link" aria-label="Direct link to Spanish translation" title="Direct link to Spanish translation">‚Äã</a></h4>
<p>Last, but not least, we would like to thank @Agustinblockchain for their
contribution of a <a href="https://github.com/input-output-hk/hydra/pull/866" target="_blank" rel="noopener noreferrer">Spanish translation #866</a>
of the <a href="https://hydra.family/head-protocol/unstable/es/" target="_blank" rel="noopener noreferrer">hydra.family website</a> üá™üá∏ üéâ</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>The monthly review meeting for May was held on 2023-05-24 via Google Meet with
these <a href="https://docs.google.com/presentation/d/1anUC3Z1idloyR6uwiSHLZtV6-LQvUcByHPMUgCBOVIA" target="_blank" rel="noopener noreferrer">slides</a> and here is the <a href="https://drive.google.com/file/d/1_N6b4RDe579TgLawiJzbE0NLofD3ljE6/view" target="_blank" rel="noopener noreferrer">recording</a>.</p>
<p>The monthly review meeting was lively and we had stakeholders from IOG as well
as interested community members join. They were well served by two very nice
demos shown by ObsidianSystems and IOG teams.</p>
<p>After having dealt with some issues last month, we are happy to have
the first mainnet-capable version released and have already another feature
completed this month.</p>
<p>It is great to see that more and more contributors from the community are
stepping up to become advocates of the technology. A community is forming and we
realize that the project could need some help from someone dedicated to keep
track of all the great things happening. What a great problem to have!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/monthly/tags/monthly">monthly</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/monthly/page/2"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://static.iohk.io/terms/iohktermsandconditions.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms &amp; Conditions</a></li><li class="footer__item"><a href="https://static.iohk.io/terms/iog-privacy-policy.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://github.com/orgs/cardano-scaling/people" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contributors</a></li></ul></div></div></div></footer></div>
</body>
</html>